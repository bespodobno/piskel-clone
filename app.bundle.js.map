{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/frames-list/renderView.js","webpack:///./node_modules/css-loader/dist/runtime/api.js","webpack:///./node_modules/style-loader/lib/addStyles.js","webpack:///./src/components/frames-list/index.js","webpack:///./node_modules/drag-tracker/dist/drag-tracker.js","webpack:///./src/components/frames-list/drag.js","webpack:///(webpack)/buildin/global.js","webpack:///./src/screens/canvas/reset.css?e393","webpack:///./src/screens/canvas/reset.css","webpack:///./node_modules/style-loader/lib/urls.js","webpack:///./node_modules/css-loader/dist/runtime/url-escape.js","webpack:///./src/components/frames-list/Frame.js","webpack:///./src/components/model/AppModel.js","webpack:///./src/controllers/App.js","webpack:///./node_modules/@sphinxxxx/color-conversion/dist/color-conversion.js","webpack:///./src/screens/preview/index.js","webpack:///./src/screens/export/ExportAnimation.js","webpack:///./src/screens/export/gif.js","webpack:///./src/screens/export/download.js","webpack:///./node_modules/vanilla-picker/dist/vanilla-picker.mjs","webpack:///./src/screens/preview/AppView.js","webpack:///./src/app.js","webpack:///./src/screens/canvas/styles.css?b7f6","webpack:///./src/screens/canvas/styles.css","webpack:///./src/screens/canvas/images/icons.png","webpack:///./src/screens/canvas/images/pattern.png"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","removeActiveClass","frames","document","body","querySelectorAll","Array","from","forEach","el","classList","contains","remove","draw","index","model","canvas","querySelector","frame","getFrame","getContext","ctx","clearRect","width","height","img","newImg","createElement","src","onload","drawImage","clientWidth","clientHeight","updateMainCanvas","view","renderNewFrame","frameContainer","divAddNewFrame","add","innerHTML","setAttribute","id","btnDelete","btnCopy","style","marginLeft","btnMove","appendChild","insertBefore","addActiveFrame","parseInt","renderDuplicateFrame","getElementById","frameDuplicate","cloneNode","firstElementChild","nextSibling","__webpack_exports__","useSourceMap","list","toString","this","map","item","content","cssMapping","btoa","sourceMapping","sourceMap","unescape","encodeURIComponent","JSON","stringify","sourceURLs","sources","source","sourceRoot","concat","join","cssWithMappingToString","mediaQuery","alreadyImportedModules","length","push","fn","memo","stylesInDom","isOldIE","window","all","atob","apply","arguments","getElement","target","parent","styleTarget","HTMLIFrameElement","contentDocument","head","e","singleton","singletonCounter","stylesInsertedAtTop","fixUrls","addStylesToDom","styles","options","domStyle","refs","j","parts","addStyle","listToStyles","newStyles","base","part","css","media","insertStyleElement","insertInto","Error","lastStyleElementInsertedAtTop","insertAt","firstChild","before","removeStyleElement","parentNode","removeChild","idx","indexOf","splice","createStyleElement","undefined","attrs","type","nonce","nc","getNonce","addAttrs","keys","obj","update","result","transform","default","styleIndex","applyToSingletonTag","URL","createObjectURL","revokeObjectURL","Blob","link","rel","createLinkElement","autoFixUrls","convertToAbsoluteUrls","blob","oldSrc","href","styleSheet","cssText","createTextNode","newObj","DEBUG","newList","mayRemove","textStore","replaceText","replacement","filter","Boolean","cssNode","childNodes","addItemFrame","deleteFrame","duplicateFrame","updateCanvasOnLoadFromLocalStorage","_renderView__WEBPACK_IMPORTED_MODULE_0__","createFrame","getLength","activeFrame","updateIdFrames","removeFrame","previousElementSibling","nextElementSibling","insertFrame","root","ep","Element","matches","msMatchesSelector","webkitMatchesSelector","closest","node","tagName","parentElement","container","documentElement","selector","callback","console","log","callbackStart","callbackDragStart","callbackEnd","callbackDragEnd","callbackClick","propagate","propagateEvents","roundCoords","dragOutside","handleOffset","offsetToCenter","dragState","getMousePos","elm","offset","stayWithin","x","clientX","y","clientY","respectBounds","min","max","Math","bounds","getBoundingClientRect","left","top","center","nodeName","round","stopEvent","preventDefault","stopPropagation","onDown","mouseOffset","startPos","actuallyDragged","onMove","start","pos","onEnd","cancelled","isClick","onTouchEnd","tweakTouch","addEvent","handler","addEventListener","isLeftButton","buttons","which","relayTouch","touches","touch","targetTouches","changedTouches","factory","addMoveEventListener","removeMoveEventListener","elementEnter","dragSrcEl","frameModelDragged","handleDragStart","opacity","frameIndex","handleDragOver","handleDragEnter","handleDrop","imgDragged","getImage","frameModelDropped","imgDropped","setImage","handleDragEnd","viewApp","modelApp","children","removeEventListener","g","Function","hmr","locals","location","baseUrl","protocol","host","currentDir","pathname","replace","fullMatch","origUrl","newUrl","unquotedOrigUrl","trim","$1","test","url","needQuotes","slice","Frame","constructor","image","[object Object]","dataImage","toJS","getBase64Image","toDataURL","AppModel_AppModel","AppModel","updateFrame","setSize","size","getSize","fromJS","js","saveModel","localStorage","setItem","getItem","global","App","_components_model_AppModel__WEBPACK_IMPORTED_MODULE_2__","_screens_preview_AppView__WEBPACK_IMPORTED_MODULE_3__","_components_frames_list_index__WEBPACK_IMPORTED_MODULE_4__","_components_frames_list_renderView__WEBPACK_IMPORTED_MODULE_5__","_components_frames_list_drag__WEBPACK_IMPORTED_MODULE_6__","_screens_preview_index__WEBPACK_IMPORTED_MODULE_7__","_screens_export_ExportAnimation__WEBPACK_IMPORTED_MODULE_8__","AppView","loadDataFromLocalStorage","savedModelStr","loadModel","parse","canvasSize","highlightCanvasSize","getCurrentImg","defineColortoPicker","handlerCanvasClick","handlerCanvasMouseMove","handlerCanvasMouseLeave","handlerCanvasMouseUp","toolbarBasic","handlerToolbarClick","toolbarPenSize","handlerChangePenSize","toolbarCanvasSize","handlerChangeCanvasSize","toolbarColorInput","handlerChangeInputColor","picker1","onDone","color","backgroundImage","background","rgbString","selectedColor","picker2","rgbaString","handlerFrameContainerMouseOver","handlerFrameContainerMouseOut","handlerFrameContainerClick","previewContainer","toggle","animationPreviewWorker","drawWithPen","handlerExportToolClick","handleKeyDown","activeTool","drawWithPaintBucket","pickColorWithColorPicker","warn","setTimeout","rect","mouse","canvasWidth","canvasHeight","ceil","highlightButton","drawRectangle","penSize","getAttribute","highlightPenSize","backgroundColor","swapColorPicker","error","temp1","temp2","currentFrame","btns","relatedTarget","fps","ExportAnimation","render","alert","ctrlKey","classCallCheck","instance","Constructor","TypeError","createClass","defineProperties","props","descriptor","configurable","writable","protoProps","staticProps","slicedToArray","arr","isArray","iterator","_arr","_n","_d","_e","_s","_i","next","done","err","sliceIterator","String","startsWith","needle","padStart","len","pad","str","colorNames","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","printNum","num","decs","toFixed","Color","b","a","that","rgba","input","_input$match$map","match","Number","_input$match$map2","h","_a","hsla","_input$match$map3","_input$match$map4","_r","_g","_b","_a2","hexToRgb","nameToRgb","parseString","toLowerCase","alpha","rgb","vals","mults","suff","hsl","hex","substring","_rgba","_hsla","hslToRgb","set","printRGB","rgbToHsl","printHSL","_ref","_ref2","_ref3","_ref4","hue2rgb","q","canvasPreview","rangeFps","timerId","indexFrame","async","drawPreview","changeFrames","framesAmount","requestFullscreen","onfullscreenchange","fullscreenElement","innerHeight","clearInterval","span","tick","requestAnimationFrame","_gif__WEBPACK_IMPORTED_MODULE_0__","_gif__WEBPACK_IMPORTED_MODULE_0___default","_download__WEBPACK_IMPORTED_MODULE_1__","_download__WEBPACK_IMPORTED_MODULE_1___default","framerate","gif","GIF","workers","workerScript","quality","debug","imageElement","addFrame","delay","on","blobUrl","open","download","require","u","f","code","1","EventEmitter","_events","_maxListeners","isFunction","arg","isObject","isUndefined","defaultMaxListeners","setMaxListeners","isNaN","emit","er","args","listeners","context","addListener","listener","newListener","warned","trace","once","fired","removeListener","position","removeAllListeners","listenerCount","evlistener","emitter","2","UA","browser","platform","ua","navigator","userAgent","documentMode","version","parseFloat","3","hasProp","superClass","defaults","frameDefaults","running","freeWorkers","activeWorkers","setOptions","child","ctor","__super__","extend","repeat","transparent","dither","copy","setOption","_canvas","results","ImageData","data","CanvasRenderingContext2D","WebGLRenderingContext","getContextData","getImageData","numWorkers","ref","nextFrame","finishedFrames","imageParts","spawnWorkers","globalPalette","renderNextFrame","abort","worker","shift","terminate","_this","Worker","onmessage","event","frameFinished","finishRendering","k","len1","len2","len3","page","ref1","ref2","pageSize","cursor","Uint8Array","task","getTask","postMessage","fillStyle","fillRect","last","canTransfer","./browser.coffee","events","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","define","strFileName","strMimeType","reader","self","defaultMime","mimeType","payload","anchor","myBlob","MozBlob","WebKitBlob","fileName","split","pop","ajax","XMLHttpRequest","responseType","response","send","msSaveBlob","dataUrlToBlob","saver","strUrl","decoder","decodeURIComponent","binData","mx","uiArr","charCodeAt","winMode","className","display","click","confirm","FileReader","readAsDataURL","BG_TRANSP","HUES","EVENT_KEY","EVENT_CLICK_OUTSIDE","EVENT_TAB_MOVE","$","onKey","stop","_style","textContent","vanilla_picker","settings","popup","layout","editor","editorFormat","_openProxy","openHandler","onChange","onOpen","onClose","HTMLElement","_popupInited","skipKeys","transfer","col","colour","_setColor","show","pointerEvents","toFocus","_domEdit","domElement","focus","doHide","knownTime","__containedEvent","timeStamp","hide","closeHandler","silent","flags","color_conversion","ex","failSilently","_setHSLA","setColor","toggled","_toggleDOM","_setPosition","wrapper","htmlString","div","parseHTML","template","_domH","_domSL","_domA","_domSample","_domOkay","_ifPopup","_updateUI","_bindEvents","dom","createDragConfig","callbackRelative","relayDrag","_","relX","relY","drag_tracker","editInput","fromEditor","selectionStart","selectionEnd","select","popupCloseProxy","timeKeeper","onDoneProxy","getComputedStyle","cssClass","cssHue","cssHSL","hslString","cssHSLA","hslaString","uiH","uiSL","uiA","thumbH","thumbSL","thumbA","posX","posY","opaque","transp","bg","format","printHex","actionIf","actionElse","toVisible","displayStyle","StyleElement","AppView_AppView","toolbartransform","Picker","renderFrame","toBlob","canvasFrame","ctxPreview","button","includes","btn","divs","lineWidth","handlerDrawWithPenMouseMove","pageX","offsetLeft","pageY","offsetTop","handlerDrawWithPenMouseUp","handleMouseOut","handlerDrawWithPenMouseDown","valueOf","getPixel","pixelData","convertColor","fillColor","imageData","Uint32Array","buffer","targetColor","pixelsToCheck","putImageData","floodFill","canvasx","canvasy","lastMousex","lastMousey","mousex","mousey","mousedown","handlerDrawRectMouseDown","handlerDrawRectMouseUp","strokeStyle","strokeRect","x1","y1","x2","y2","radiusX","radiusY","centerX","centerY","pi2","PI","beginPath","moveTo","cos","sin","lineTo","closePath","stroke","drawEllipse","app","urlEscape","___CSS_LOADER_URL___0___","___CSS_LOADER_URL___1___"],"mappings":"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","file":"app.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 19);\n","export function removeActiveClass() {\n  const frames = document.body.querySelectorAll('.frame-item');\n  Array.from(frames).forEach((el) => {\n    if (el.classList.contains('active')) {\n      el.classList.remove('active');\n    }\n  });\n}\n\nexport function draw(index, model) {\n  const canvas = document.body.querySelector(`#canvas${index}`);\n  const frame = model.getFrame(index);\n  if (canvas.getContext) {\n    const ctx = canvas.getContext('2d');\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    if (frame.img) {\n      const newImg = document.createElement('img');\n      newImg.src = frame.img.src;\n      newImg.onload = () => {\n        ctx.drawImage(newImg, 0, 0, canvas.clientWidth, canvas.clientHeight);\n      };\n    }\n  }\n}\n\nexport function updateMainCanvas(index, view, model) {\n  const { canvas } = view;\n  const frame = model.getFrame(index);\n  if (canvas.getContext) {\n    const ctx = canvas.getContext('2d');\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    if (frame.img) {\n      const newImg = document.createElement('img');\n      newImg.src = frame.img.src;\n      newImg.onload = () => {\n        ctx.drawImage(newImg, 0, 0, canvas.clientWidth, canvas.clientHeight);\n      };\n    }\n  }\n}\n\nexport function renderNewFrame(index, view) {\n  const { frameContainer } = view;\n  const divAddNewFrame = document.body.querySelector('.add-item');\n\n  const frame = document.createElement('div');\n  frame.classList.add('frame-item');\n  frame.innerHTML += `<canvas class=\"canvas-frame\" width=\"96\" height=\"96\"\nid=\"canvas${index}\"></canvas>`;\n  // check if other frames is active and remove\n  removeActiveClass();\n  frame.classList.add('active');\n  frame.setAttribute('draggable', true);\n  frame.id = `${index}`;\n  const btnDelete = document.createElement('button');\n  btnDelete.classList.add('btn-delete');\n  btnDelete.classList.add('hidden');\n  const btnCopy = document.createElement('button');\n  btnCopy.classList.add('btn-copy');\n  btnCopy.classList.add('hidden');\n  btnCopy.style.marginLeft = '5px';\n  const btnMove = document.createElement('button');\n  btnMove.classList.add('btn-move');\n  btnMove.classList.add('hidden');\n  btnMove.style.marginLeft = '5px';\n  frame.appendChild(btnDelete);\n  frame.appendChild(btnCopy);\n  frame.appendChild(btnMove);\n  frameContainer.insertBefore(frame, divAddNewFrame);\n  // draw(index, model);\n}\n\nexport function addActiveFrame(frame, view, model) {\n  // refreshActionBar();\n  removeActiveClass();\n  frame.classList.add('active');\n  const index = parseInt(document.body.querySelector('.frame-item.active').id, 10);\n  // draw(index, model);\n  updateMainCanvas(index, view, model);\n}\n\nexport function renderDuplicateFrame(id, view, model) {\n  const frame = document.getElementById(`${id}`);\n  const frameDuplicate = frame.cloneNode(true);\n  frameDuplicate.classList.remove('active');\n  frameDuplicate.id = `${id + 1}`;\n  frameDuplicate.firstElementChild.id = `canvas${id + 1}`;\n  const frameContainer = document.body.querySelector('.container-frames');\n  frameContainer.insertBefore(frameDuplicate, frame.nextSibling);\n  addActiveFrame(frameDuplicate, view, model);\n  draw(id + 1, model);\n  updateMainCanvas(id + 1, view, model);\n}\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return '@media ' + item[2] + '{' + content + '}';\n      } else {\n        return content;\n      }\n    }).join('');\n  }; // import a list of modules into the list\n\n\n  list.i = function (modules, mediaQuery) {\n    if (typeof modules === 'string') {\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    for (var i = 0; i < this.length; i++) {\n      var id = this[i][0];\n\n      if (id != null) {\n        alreadyImportedModules[id] = true;\n      }\n    }\n\n    for (i = 0; i < modules.length; i++) {\n      var item = modules[i]; // skip already imported module\n      // this implementation is not 100% perfect for weird media query combinations\n      // when a module is imported multiple times with different media queries.\n      // I hope this will never occur (Hey this way we have smaller bundles)\n\n      if (item[0] == null || !alreadyImportedModules[item[0]]) {\n        if (mediaQuery && !item[2]) {\n          item[2] = mediaQuery;\n        } else if (mediaQuery) {\n          item[2] = '(' + item[2] + ') and (' + mediaQuery + ')';\n        }\n\n        list.push(item);\n      }\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || '';\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */';\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n  return '/*# ' + data + ' */';\n}","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target, parent) {\n  if (parent){\n    return parent.querySelector(target);\n  }\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target, parent) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target, parent);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertAt.before, target);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\n\tif(options.attrs.nonce === undefined) {\n\t\tvar nonce = getNonce();\n\t\tif (nonce) {\n\t\t\toptions.attrs.nonce = nonce;\n\t\t}\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction getNonce() {\n\tif (typeof __webpack_nonce__ === 'undefined') {\n\t\treturn null;\n\t}\n\n\treturn __webpack_nonce__;\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = typeof options.transform === 'function'\n\t\t ? options.transform(obj.css) \n\t\t : options.transform.default(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n","/* eslint-disable no-param-reassign */\nimport {\n  draw, renderNewFrame, addActiveFrame, renderDuplicateFrame, updateMainCanvas,\n} from './renderView';\n\nexport function addItemFrame(view, model) {\n  // create new frame\n  model.createFrame(null);\n  // render new matrix in  frames\n  renderNewFrame(model.getLength() - 1, view);\n  // set canvas to default\n  const { canvas } = view;\n  if (canvas.getContext) {\n    const ctx = canvas.getContext('2d');\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n  }\n  model.activeFrame = model.getLength() - 1;\n  updateMainCanvas(model.getLength() - 1, view, model);\n}\n\nfunction updateIdFrames() {\n  Array.from(document.body.querySelectorAll('.frame-item')).forEach((el, i) => {\n    el.id = `${i}`;\n    el.firstElementChild.id = `canvas${i}`;\n  });\n}\n\nexport function deleteFrame(e, view, model) {\n  if (document.body.querySelectorAll('.frame-item').length === 1) return;\n  // find frame\n  const item = e.target.parentNode;\n  // update model\n  model.removeFrame(parseInt(item.id, 10));\n  const frame = item.previousElementSibling || item.nextElementSibling; // fall\n  // delete frame from frames in view\n  view.frameContainer.removeChild(item);\n  // update id in html\n  updateIdFrames();\n  // set active prev frame or forward\n  addActiveFrame(frame, view, model);\n  // updateMainCanvas\n  const index = parseInt(document.body.querySelector('.frame-item.active').id, 10);\n  updateMainCanvas(index, view, model);\n  model.activeFrame = index;\n}\n\nexport function duplicateFrame(e, view, model) {\n  // find frame\n  const item = e.target.parentNode;\n  const index = parseInt(item.id, 10);\n  // update model\n  model.insertFrame(index);\n  // add frame to frames\n  renderDuplicateFrame(index, view, model);\n  model.activeFrame = index + 1;\n  // update id in html\n  updateIdFrames();\n  updateMainCanvas(index + 1, view, model);\n}\n\nexport function updateCanvasOnLoadFromLocalStorage(model, view) {\n  // update all frames\n  model.frames.forEach((el, i) => {\n    if (i) {\n      renderNewFrame(i, view);\n    }\n    draw(i, model);\n  });\n  // update main canvas\n  model.activeFrame = model.getLength() - 1;\n  updateMainCanvas(model.getLength() - 1, view, model);\n}\n","/*!\n * drag-tracker v1.0.0\n * https://github.com/Sphinxxxx/drag-tracker#readme\n *\n * Copyright 2017-2018 Andreas Borgen\n * Released under the MIT license.\n */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.dragTracker = factory());\n}(this, (function () { 'use strict';\n\nvar root = window;\n\nfunction dragTracker(options) {\n\n\n    var ep = Element.prototype;\n    if (!ep.matches) ep.matches = ep.msMatchesSelector || ep.webkitMatchesSelector;\n    if (!ep.closest) ep.closest = function (s) {\n        var node = this;\n        do {\n            if (node.matches(s)) return node;\n            node = node.tagName === 'svg' ? node.parentNode : node.parentElement;\n        } while (node);\n\n        return null;\n    };\n\n    options = options || {};\n    var container = options.container || document.documentElement,\n        selector = options.selector,\n        callback = options.callback || console.log,\n        callbackStart = options.callbackDragStart,\n        callbackEnd = options.callbackDragEnd,\n\n    callbackClick = options.callbackClick,\n        propagate = options.propagateEvents,\n        roundCoords = options.roundCoords !== false,\n        dragOutside = options.dragOutside !== false,\n\n    handleOffset = options.handleOffset || options.handleOffset !== false;\n    var offsetToCenter = null;\n    switch (handleOffset) {\n        case 'center':\n            offsetToCenter = true;break;\n        case 'topleft':\n        case 'top-left':\n            offsetToCenter = false;break;\n    }\n\n    var dragState = void 0;\n\n    function getMousePos(e, elm, offset, stayWithin) {\n        var x = e.clientX,\n            y = e.clientY;\n\n        function respectBounds(value, min, max) {\n            return Math.max(min, Math.min(value, max));\n        }\n\n        if (elm) {\n            var bounds = elm.getBoundingClientRect();\n            x -= bounds.left;\n            y -= bounds.top;\n\n            if (offset) {\n                x -= offset[0];\n                y -= offset[1];\n            }\n            if (stayWithin) {\n                x = respectBounds(x, 0, bounds.width);\n                y = respectBounds(y, 0, bounds.height);\n            }\n\n            if (elm !== container) {\n                var center = offsetToCenter !== null ? offsetToCenter\n                : elm.nodeName === 'circle' || elm.nodeName === 'ellipse';\n\n                if (center) {\n                    x -= bounds.width / 2;\n                    y -= bounds.height / 2;\n                }\n            }\n        }\n        return roundCoords ? [Math.round(x), Math.round(y)] : [x, y];\n    }\n\n    function stopEvent(e) {\n        e.preventDefault();\n        if (!propagate) {\n            e.stopPropagation();\n        }\n    }\n\n    function onDown(e) {\n        var target = void 0;\n        if (selector) {\n            target = selector instanceof Element ? selector.contains(e.target) ? selector : null : e.target.closest(selector);\n        } else {\n            target = {};\n        }\n\n        if (target) {\n            stopEvent(e);\n\n            var mouseOffset = selector && handleOffset ? getMousePos(e, target) : [0, 0],\n                startPos = getMousePos(e, container, mouseOffset);\n            dragState = {\n                target: target,\n                mouseOffset: mouseOffset,\n                startPos: startPos,\n                actuallyDragged: false\n            };\n\n            if (callbackStart) {\n                callbackStart(target, startPos);\n            }\n        }\n    }\n\n    function onMove(e) {\n        if (!dragState) {\n            return;\n        }\n        stopEvent(e);\n\n        var start = dragState.startPos,\n            pos = getMousePos(e, container, dragState.mouseOffset, !dragOutside);\n\n        dragState.actuallyDragged = dragState.actuallyDragged || start[0] !== pos[0] || start[1] !== pos[1];\n\n        callback(dragState.target, pos, start);\n    }\n\n    function onEnd(e, cancelled) {\n        if (!dragState) {\n            return;\n        }\n\n        if (callbackEnd || callbackClick) {\n            var isClick = !dragState.actuallyDragged,\n                pos = isClick ? dragState.startPos : getMousePos(e, container, dragState.mouseOffset, !dragOutside);\n\n            if (callbackClick && isClick && !cancelled) {\n                callbackClick(dragState.target, pos);\n            }\n            if (callbackEnd) {\n                callbackEnd(dragState.target, pos, dragState.startPos, cancelled || isClick && callbackClick);\n            }\n        }\n        dragState = null;\n    }\n\n\n    addEvent(container, 'mousedown', function (e) {\n        if (isLeftButton(e)) {\n            onDown(e);\n        } else {\n            onEnd(e, true);\n        }\n    });\n    addEvent(container, 'touchstart', function (e) {\n        return relayTouch(e, onDown);\n    });\n\n    addEvent(root, 'mousemove', function (e) {\n        if (!dragState) {\n            return;\n        }\n\n        if (isLeftButton(e)) {\n            onMove(e);\n        }\n        else {\n                onEnd(e);\n            }\n    });\n    addEvent(root, 'touchmove', function (e) {\n        return relayTouch(e, onMove);\n    });\n\n    addEvent(container, 'mouseup', function (e) {\n        if (dragState && !isLeftButton(e)) {\n            onEnd(e);\n        }\n    });\n    function onTouchEnd(e, cancelled) {\n        onEnd(tweakTouch(e), cancelled);\n    }\n    addEvent(container, 'touchend', function (e) {\n        return onTouchEnd(e);\n    });\n    addEvent(container, 'touchcancel', function (e) {\n        return onTouchEnd(e, true);\n    });\n\n    function addEvent(target, type, handler) {\n        target.addEventListener(type, handler);\n    }\n    function isLeftButton(e) {\n        return e.buttons !== undefined ? e.buttons === 1 :\n        e.which === 1;\n    }\n    function relayTouch(e, handler) {\n        if (e.touches.length !== 1) {\n            onEnd(e, true);return;\n        }\n\n        handler(tweakTouch(e));\n    }\n    function tweakTouch(e) {\n        var touch = e.targetTouches[0];\n        if (!touch) {\n            touch = e.changedTouches[0];\n        }\n\n        touch.preventDefault = e.preventDefault.bind(e);\n        touch.stopPropagation = e.stopPropagation.bind(e);\n        return touch;\n    }\n}\n\nreturn dragTracker;\n\n})));\n","import { removeActiveClass, draw, updateMainCanvas } from './renderView';\n\nlet dragSrcEl = null;\nlet frameModelDragged = null;\nlet model;\nlet view;\nlet frames;\nlet elementEnter;\n\nfunction handleDragStart() {\n  // Target (this) element is the source node.\n  this.style.opacity = '0.4';\n  const frameIndex = this.id;\n  frameModelDragged = model.getFrame(frameIndex);\n\n  dragSrcEl = this;\n}\n\nfunction handleDragOver(e) {\n  if (e.preventDefault) {\n    e.preventDefault(); // Necessary. Allows us to drop.\n  }\n\n  return false;\n}\n\nfunction handleDragEnter(e) {\n  // this / e.target is the current hover target.\n  if (elementEnter !== this) {\n    this.classList.add('over');\n    if (elementEnter) elementEnter.classList.remove('over');\n    elementEnter = this;\n    e.stopPropagation();\n  }\n}\n\nfunction handleDrop(e) {\n  // this/e.target is current target element.\n\n  if (e.stopPropagation) {\n    e.stopPropagation(); // Stops some browsers from redirecting.\n  }\n\n  // Don't do anything if dropping the same cell we're dragging.\n  if (dragSrcEl !== this) {\n    dragSrcEl.style.opacity = '1';\n    const imgDragged = frameModelDragged.getImage();\n    const frameIndex = this.id;\n    const frameModelDropped = model.getFrame(frameIndex);\n    const imgDropped = frameModelDropped.getImage();\n\n    frameModelDragged.setImage(imgDropped);\n    frameModelDropped.setImage(imgDragged);\n    // remove active class and set it to dropped frame\n    removeActiveClass();\n    this.classList.add('active');\n    //  frames    main canvas\n    draw(dragSrcEl.id, model);\n    draw(frameIndex, model);\n    updateMainCanvas(frameIndex, view, model);\n    model.activeFrame = frameIndex;\n  }\n  return false;\n}\n\nfunction handleDragEnd() {\n  // this/e.target is the source node.\n  [].forEach.call(frames, (frame) => {\n    frame.classList.remove('over');\n  });\n}\n\n\nexport function addMoveEventListener(frameContainer, viewApp, modelApp) {\n  model = modelApp;\n  view = viewApp;\n  frames = frameContainer.children;\n  Array.from(frames).forEach((frame) => {\n    if (frame.classList.contains('frame-item')) {\n      frame.addEventListener('dragstart', handleDragStart, false);\n      frame.addEventListener('dragenter', handleDragEnter, false);\n      frame.addEventListener('dragover', handleDragOver, false);\n      frame.addEventListener('drop', handleDrop, false);\n      frame.addEventListener('dragend', handleDragEnd, false);\n    }\n  });\n}\n\nexport function removeMoveEventListener(frameContainer) {\n  frames = frameContainer.children;\n  Array.from(frames).forEach((frame) => {\n    if (frame.classList.contains('frame-item')) {\n      frame.removeEventListener('dragstart', handleDragStart, false);\n      frame.removeEventListener('dragenter', handleDragEnter, false);\n      frame.removeEventListener('dragover', handleDragOver, false);\n      frame.removeEventListener('drop', handleDrop, false);\n      frame.removeEventListener('dragend', handleDragEnd, false);\n    }\n  });\n}\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!./reset.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js!./reset.css\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js!./reset.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"/*\\r\\n\\tHTML5 Reset :: style.css\\r\\n\\t----------------------------------------------------------\\r\\n\\tWe have learned much from/been inspired by/taken code where offered from:\\r\\n\\tEric Meyer\\t\\t\\t\\t\\t:: https://meyerweb.com\\r\\n\\tHTML5 Doctor\\t\\t\\t\\t:: https://html5doctor.com\\r\\n\\tand the HTML5 Boilerplate\\t:: https://html5boilerplate.com\\r\\n-------------------------------------------------------------------------------*/\\r\\n\\r\\n/* Let's default this puppy out\\r\\n-------------------------------------------------------------------------------*/\\r\\n\\r\\nhtml, body, body div, span, object, iframe, h1, h2, h3, h4, h5, h6, p, blockquote, pre, abbr, address, cite, code, del, dfn, em, img, ins, kbd, q, samp, small, strong, sub, sup, var, b, i, dl, dt, dd, ol, ul, li, fieldset, form, label, legend, table, caption, tbody, tfoot, thead, tr, th, td, article, aside, figure, footer, header, menu, nav, section, time, mark, audio, video, details, summary {\\r\\n  margin: 0;\\r\\n  padding: 0;\\r\\n  border: 0;\\r\\n  font-size: 100%;\\r\\n  font-weight: normal;\\r\\n  vertical-align: baseline;\\r\\n  background: transparent;\\r\\n}\\r\\n\\r\\narticle, aside, figure, footer, header, nav, section, details, summary {\\r\\n  display: block;\\r\\n}\\r\\n\\r\\n/* Handle box-sizing while better addressing child elements:\\r\\n   https://css-tricks.com/inheriting-box-sizing-probably-slightly-better-best-practice/ */\\r\\n\\r\\nhtml {\\r\\n  box-sizing: border-box;\\r\\n}\\r\\n\\r\\n*, *:before, *:after {\\r\\n  box-sizing: inherit;\\r\\n}\\r\\n\\r\\n/* consider resetting the default cursor: https://gist.github.com/murtaugh/5247154 */\\r\\n\\r\\n/* Responsive images and other embedded objects\\r\\n*/\\r\\n\\r\\nimg, object, embed {\\r\\n  max-width: 100%;\\r\\n}\\r\\n\\r\\n/*\\r\\n   Note: keeping IMG here will cause problems if you're using foreground images as sprites.\\r\\n\\t In fact, it *will* cause problems with Google Maps' controls at small size.\\r\\n\\tIf this is the case for you, try uncommenting the following:\\r\\n#map img {\\r\\n\\t\\tmax-width: none;\\r\\n}\\r\\n*/\\r\\n\\r\\n/* force a vertical scrollbar to prevent a jumpy page */\\r\\n\\r\\nhtml {\\r\\n  overflow-y: scroll;\\r\\n}\\r\\n\\r\\n/* we use a lot of ULs that aren't bulleted.\\r\\n\\tdon't forget to restore the bullets within content. */\\r\\n\\r\\nul {\\r\\n  list-style: none;\\r\\n}\\r\\n\\r\\nblockquote, q {\\r\\n  quotes: none;\\r\\n}\\r\\n\\r\\nblockquote:before, blockquote:after, q:before, q:after {\\r\\n  content: '';\\r\\n  content: none;\\r\\n}\\r\\n\\r\\na {\\r\\n  margin: 0;\\r\\n  padding: 0;\\r\\n  font-size: 100%;\\r\\n  vertical-align: baseline;\\r\\n  background: transparent;\\r\\n}\\r\\n\\r\\ndel {\\r\\n  text-decoration: line-through;\\r\\n}\\r\\n\\r\\nabbr[title], dfn[title] {\\r\\n  border-bottom: 1px dotted #000;\\r\\n  cursor: help;\\r\\n}\\r\\n\\r\\n/* tables still need cellspacing=\\\"0\\\" in the markup */\\r\\n\\r\\ntable {\\r\\n  border-collapse: collapse;\\r\\n  border-spacing: 0;\\r\\n}\\r\\n\\r\\nth {\\r\\n  font-weight: bold;\\r\\n  vertical-align: bottom;\\r\\n}\\r\\n\\r\\ntd {\\r\\n  font-weight: normal;\\r\\n  vertical-align: top;\\r\\n}\\r\\n\\r\\nhr {\\r\\n  display: block;\\r\\n  height: 1px;\\r\\n  border: 0;\\r\\n  border-top: 1px solid #ccc;\\r\\n  margin: 1em 0;\\r\\n  padding: 0;\\r\\n}\\r\\n\\r\\ninput, select {\\r\\n  vertical-align: middle;\\r\\n}\\r\\n\\r\\npre {\\r\\n  white-space: pre;\\r\\n  /* CSS2 */\\r\\n  white-space: pre-wrap;\\r\\n  /* CSS 2.1 */\\r\\n  white-space: pre-line;\\r\\n  /* CSS 3 (and 2.1 as well, actually) */\\r\\n  word-wrap: break-word;\\r\\n  /* IE */\\r\\n}\\r\\n\\r\\ninput[type=\\\"radio\\\"] {\\r\\n  vertical-align: text-bottom;\\r\\n}\\r\\n\\r\\ninput[type=\\\"checkbox\\\"] {\\r\\n  vertical-align: bottom;\\r\\n}\\r\\n\\r\\n.ie7 input[type=\\\"checkbox\\\"] {\\r\\n  vertical-align: baseline;\\r\\n}\\r\\n\\r\\n.ie6 input {\\r\\n  vertical-align: text-bottom;\\r\\n}\\r\\n\\r\\nselect, input, textarea {\\r\\n  font: 99% sans-serif;\\r\\n}\\r\\n\\r\\ntable {\\r\\n  font-size: inherit;\\r\\n  font: 100%;\\r\\n}\\r\\n\\r\\nsmall {\\r\\n  font-size: 85%;\\r\\n}\\r\\n\\r\\nstrong {\\r\\n  font-weight: bold;\\r\\n}\\r\\n\\r\\ntd, td img {\\r\\n  vertical-align: top;\\r\\n}\\r\\n\\r\\n/* Make sure sup and sub don't mess with your line-heights https://gist.github.com/413930 */\\r\\n\\r\\nsub, sup {\\r\\n  font-size: 75%;\\r\\n  line-height: 0;\\r\\n  position: relative;\\r\\n}\\r\\n\\r\\nsup {\\r\\n  top: -0.5em;\\r\\n}\\r\\n\\r\\nsub {\\r\\n  bottom: -0.25em;\\r\\n}\\r\\n\\r\\n/* standardize any monospaced elements */\\r\\n\\r\\npre, code, kbd, samp {\\r\\n  font-family: monospace, sans-serif;\\r\\n}\\r\\n\\r\\n/* hand cursor on clickable elements */\\r\\n\\r\\n.clickable, label, input[type=button], input[type=submit], input[type=file], button {\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\n/* Webkit browsers add a 2px margin outside the chrome of form elements */\\r\\n\\r\\nbutton, input, select, textarea {\\r\\n  margin: 0;\\r\\n}\\r\\n\\r\\n/* make buttons play nice in IE */\\r\\n\\r\\nbutton, input[type=button] {\\r\\n  width: auto;\\r\\n  overflow: visible;\\r\\n}\\r\\n\\r\\n/* scale images in IE7 more attractively */\\r\\n\\r\\n.ie7 img {\\r\\n  -ms-interpolation-mode: bicubic;\\r\\n}\\r\\n\\r\\n/* prevent BG image flicker upon hover\\r\\n   (commented out as usage is rare, and the filter syntax messes with some pre-processors)\\r\\n.ie6 html {filter: expression(document.execCommand(\\\"BackgroundImageCache\\\", false, true));}\\r\\n*/\\r\\n\\r\\n/* let's clear some floats */\\r\\n\\r\\n.clearfix:before, .clearfix:after {\\r\\n  content: \\\"\\\\0020\\\";\\r\\n  display: block;\\r\\n  height: 0;\\r\\n  overflow: hidden;\\r\\n}\\r\\n\\r\\n.clearfix:after {\\r\\n  clear: both;\\r\\n}\\r\\n\\r\\n.clearfix {\\r\\n  zoom: 1;\\r\\n}\\r\\n\", \"\"]);\n\n","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n","\"use strict\";\n\nmodule.exports = function escape(url, needQuotes) {\n  if (typeof url !== 'string') {\n    return url;\n  } // If url is already wrapped in quotes, remove them\n\n\n  if (/^['\"].*['\"]$/.test(url)) {\n    url = url.slice(1, -1);\n  } // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n\n\n  if (/[\"'() \\t\\n]/.test(url) || needQuotes) {\n    return '\"' + url.replace(/\"/g, '\\\\\"').replace(/\\n/g, '\\\\n') + '\"';\n  }\n\n  return url;\n};","export default class Frame {\n  constructor(img) {\n    this.img = img;\n  }\n\n  getImage() {\n    return this.img;\n  }\n\n  setImage(image) {\n    this.img = image;\n  }\n\n  static fromJS(dataImage) {\n    const newImg = document.createElement('img');\n    newImg.src = `data:image/png;base64,${dataImage.img}`;\n    return new Frame(newImg);\n  }\n\n  toJS() {\n    const imgData = Frame.getBase64Image(this.img);\n    return {\n      img: imgData,\n    };\n  }\n\n  static getBase64Image(img) {\n    const canvas = document.createElement('canvas');\n    canvas.width = 500;\n    canvas.height = 500;\n\n    if (canvas.getContext) {\n      const ctx = canvas.getContext('2d');\n      ctx.drawImage(img, 0, 0);\n    }\n    const dataURL = canvas.toDataURL('image/png');\n    return dataURL.replace(/^data:image\\/(png|jpg);base64,/, '');\n  }\n\n  // getSize() {\n  //   return this.size;\n  // }\n\n  // setSize(size) {\n  //   this.size = size;\n  // }\n}\n","import Frame from '../frames-list/Frame';\n\nexport default class AppModel {\n  constructor() {\n    this.activeFrame = 0; // number\n    this.frames = [];\n    this.width = 32;\n    this.height = 32;\n  }\n\n  createFrame(image) {\n    const frame = new Frame(image);// { width: size, height: size });\n    this.frames.push(frame);\n  }\n\n  updateFrame(index, image) {\n    this.getFrame(index).setImage(image);\n  }\n\n  removeFrame(index) {\n    if (index !== -1) {\n      this.frames.splice(index, 1);\n    }\n  }\n\n  getFrame(index) {\n    return this.frames[index];\n  }\n\n  insertFrame(index) {\n    const image = this.getFrame(index).getImage();\n    this.frames.splice(index, 0, new Frame(image));\n  }\n\n  getLength() {\n    return this.frames.length;\n  }\n\n  setSize(size) {\n    this.width = size;\n    this.height = size;\n  }\n\n  getSize() {\n    return { width: this.width, height: this.height };\n  }\n\n  fromJS(js) {\n    this.activeFrame = js.activeFrame;\n    this.frames = js.frames.map(frame => Frame.fromJS(frame));\n    this.width = js.width;\n    this.height = js.height;\n  }\n\n  toJS() {\n    return {\n      activeFrame: this.activeFrame,\n      frames: this.frames.map(frame => frame.toJS()),\n      width: this.width,\n      height: this.height,\n    };\n  }\n\n  saveModel() {\n    localStorage.setItem('model', JSON.stringify(this.toJS()));\n  }\n\n  static loadModel() {\n    const model = localStorage.getItem('model');\n    return model;\n  }\n}\n","// import $ from 'jquery';\nimport '../screens/canvas/reset.css';\nimport '../screens/canvas/styles.css';\nimport AppModel from '../components/model/AppModel';\nimport AppView from '../screens/preview/AppView';\nimport {\n  deleteFrame, duplicateFrame, addItemFrame, updateCanvasOnLoadFromLocalStorage,\n} from '../components/frames-list/index';\nimport { addActiveFrame } from '../components/frames-list/renderView';\nimport { addMoveEventListener, removeMoveEventListener } from '../components/frames-list/drag';\nimport animationPreviewWorker from '../screens/preview/index';\nimport ExportAnimation from '../screens/export/ExportAnimation';\n\n// require('../screens/canvas/reset.css');\n// require('../screens / canvas / styles.css');\n\nexport default class App {\n  constructor() {\n    this.model = new AppModel();\n    this.view = new AppView();\n  }\n\n  loadDataFromLocalStorage() {\n    const savedModelStr = AppModel.loadModel();\n\n    if (savedModelStr) {\n      this.model.fromJS(JSON.parse(savedModelStr));\n      updateCanvasOnLoadFromLocalStorage(this.model, this.view);\n      const canvasSize = `size${this.model.width}`;\n      this.view.highlightCanvasSize(canvasSize);\n    } else {\n      this.model.createFrame(this.view.getCurrentImg());\n    }\n  }\n\n\n  start() {\n    // $(() => $('[data-toggle=\"tooltip\"]').tooltip());\n\n    this.view.defineColortoPicker();\n\n    this.view.canvas.addEventListener('click', this.handlerCanvasClick.bind(this));\n\n    this.view.canvas.addEventListener('mousemove', this.handlerCanvasMouseMove.bind(this));\n\n    this.view.canvas.addEventListener('mouseleave', App.handlerCanvasMouseLeave.bind(this));\n\n    this.view.canvas.addEventListener('mouseup', this.handlerCanvasMouseUp.bind(this));\n\n    this.view.toolbarBasic.addEventListener('click', this.handlerToolbarClick.bind(this));\n\n    this.view.toolbarPenSize.addEventListener('click', this.handlerChangePenSize.bind(this));\n\n    this.view.toolbarCanvasSize.addEventListener('click', this.handlerChangeCanvasSize.bind(this));\n\n    this.view.toolbarColorInput.addEventListener('click', this.handlerChangeInputColor.bind(this));\n\n    this.view.picker1.onDone = (color) => {\n      document.querySelector('#color-input1').style.backgroundImage = 'none';\n      document.querySelector('#color-input1').style.background = color.rgbString;\n      this.view.selectedColor = color.rgbString;\n    };\n    this.view.picker2.onDone = (color) => {\n      document.querySelector('#color-input2').style.backgroundImage = 'none';\n      document.querySelector('#color-input2').style.background = color.rgbaString;\n    };\n    this.view.frameContainer.addEventListener('mouseover', this.handlerFrameContainerMouseOver.bind(this));\n\n    this.view.frameContainer.addEventListener('mouseout', this.handlerFrameContainerMouseOut.bind(this));\n\n    this.view.frameContainer.addEventListener('click', this.handlerFrameContainerClick.bind(this));\n\n    this.view.previewContainer.addEventListener('mouseover', () => {\n      document.querySelector('.btn-preview-size').classList.toggle('hidden');\n      document.querySelector('.btn-preview-popup').classList.toggle('hidden');\n    });\n\n    this.view.previewContainer.addEventListener('mouseout', () => {\n      document.querySelector('.btn-preview-size').classList.toggle('hidden');\n      document.querySelector('.btn-preview-popup').classList.toggle('hidden');\n    });\n\n    addMoveEventListener(this.view.frameContainer, this.view, this.model);\n\n    animationPreviewWorker(this.view, this.model);\n\n    this.view.drawWithPen();\n\n    document.querySelector('.button-item.export-tool').addEventListener('click', this.handlerExportToolClick.bind(this));\n\n    // keyboardcontrols\n    document.addEventListener('keydown', this.handleKeyDown.bind(this));\n  }\n\n  handlerCanvasClick(e) {\n    switch (this.view.activeTool) {\n      case 'pen':\n        this.model.updateFrame(this.model.activeFrame, this.view.getCurrentImg());\n        break;\n      case 'paint-bucket':\n        this.view.drawWithPaintBucket(e);\n        this.model.updateFrame(this.model.activeFrame, this.view.getCurrentImg());\n        break;\n      case 'color-picker':\n        this.view.pickColorWithColorPicker(e);\n        break;\n      case 'eraser':\n        this.model.updateFrame(this.model.activeFrame, this.view.getCurrentImg());\n        break;\n      case 'rectangle-tool':\n        this.model.updateFrame(this.model.activeFrame, this.view.getCurrentImg());\n        break;\n      case 'circle-tool':\n        this.model.updateFrame(this.model.activeFrame, this.view.getCurrentImg());\n        break;\n      default:\n        global.console.warn('unsupported action');\n        break;\n    }\n  }\n\n  handlerCanvasMouseUp() {\n    setTimeout(() => {\n      this.model.saveModel();\n    }, 1000);\n  }\n\n  handlerCanvasMouseMove(e) {\n    const rect = this.view.canvas.getBoundingClientRect();\n    const mouse = { x: 0, y: 0 };\n    const canvasWidth = this.view.canvas.clientWidth;\n    const canvasHeight = this.view.canvas.clientHeight;\n    mouse.x = Math.ceil((e.clientX - rect.left) / canvasWidth * this.model.width);\n    mouse.y = Math.ceil((e.clientY - rect.top) / canvasHeight * this.model.height);\n    document.querySelector('#coordinates').innerHTML = `x: ${mouse.x}, y: ${mouse.y}`;\n  }\n\n  static handlerCanvasMouseLeave() {\n    document.querySelector('#coordinates').innerHTML = '';\n  }\n\n  handlerToolbarClick(e) {\n    switch (e.target.id) {\n      case 'pen':\n        this.view.activeTool = 'pen';\n        this.view.highlightButton(e.target);\n        this.view.drawWithPen();\n        break;\n      case 'mirror-pen':\n        this.view.activeTool = 'mirror-pen';\n        this.view.highlightButton(e.target);\n        break;\n      case 'paint-bucket':\n        this.view.activeTool = 'paint-bucket';\n        this.view.highlightButton(e.target);\n        break;\n      case 'color-swap':\n        this.view.activeTool = 'color-swap';\n        this.view.highlightButton(e.target);\n        break;\n      case 'eraser':\n        this.view.activeTool = 'eraser';\n        this.view.highlightButton(e.target);\n        this.view.drawWithPen();\n        break;\n      case 'stroke':\n        this.view.activeTool = 'stroke';\n        this.view.highlightButton(e.target);\n        break;\n      case 'rectangle-tool':\n        this.view.activeTool = 'rectangle-tool';\n        this.view.highlightButton(e.target);\n        this.view.drawRectangle(e);\n        break;\n      case 'circle-tool':\n        this.view.activeTool = 'circle-tool';\n        this.view.highlightButton(e.target);\n        this.view.drawRectangle(e);\n        break;\n      case 'move-tool':\n        this.view.activeTool = 'move-tool';\n        this.view.highlightButton(e.target);\n        break;\n      case 'shape-section':\n        this.view.activeTool = 'shape-section';\n        this.view.highlightButton(e.target);\n        break;\n      case 'shape-tool':\n        this.view.activeTool = 'shape-tool';\n        this.view.highlightButton(e.target);\n        break;\n      case 'lasso-tool':\n        this.view.activeTool = 'lasso-tool';\n        this.view.highlightButton(e.target);\n        break;\n      case 'lighten-tool':\n        this.view.activeTool = 'lighten-tool';\n        this.view.highlightButton(e.target);\n        break;\n      case 'dithering-tool':\n        this.view.activeTool = 'dithering-tool';\n        this.view.highlightButton(e.target);\n        break;\n      case 'color-picker':\n        this.view.activeTool = 'color-picker';\n        this.view.highlightButton(e.target);\n        break;\n      default:\n        console.warn('unsupported action');\n        break;\n    }\n  }\n\n  handlerChangePenSize(e) {\n    const penSize = e.target.getAttribute('data-size') || e.target.parentNode.getAttribute('data-size');\n    switch (penSize) {\n      case '1':\n        this.view.penSize = 1;\n        this.view.highlightPenSize(penSize);\n        break;\n      case '2':\n        this.view.penSize = 2;\n        this.view.highlightPenSize(penSize);\n        break;\n      case '3':\n        this.view.penSize = 3;\n        this.view.highlightPenSize(penSize);\n        break;\n      case '4':\n        this.view.penSize = 4;\n        this.view.highlightPenSize(penSize);\n        break;\n      default:\n        console.warn('unsupported action');\n        break;\n    }\n  }\n\n  handlerChangeCanvasSize(e) {\n    const canvasSize = e.target.id;\n    if (this.model.width === parseInt(canvasSize.slice(4), 10)) {\n      return;\n    }\n    //  const canvasSizeOld = this.model.getSize();\n    switch (canvasSize) {\n      case 'size32':\n        this.model.setSize(32);\n        document.querySelector('#canvas-size').innerHTML = '[32x32]';\n        this.view.highlightCanvasSize(canvasSize);\n        // this.view.renderUpdatedCanvasSize(canvasSizeOld, this.model);\n        // setTimeout(() => {\n        //   this.model.updateFrame(this.model.activeFrame, this.view.getCurrentImg());\n        // }, 500);\n        break;\n      case 'size64':\n        this.model.setSize(64);\n        document.querySelector('#canvas-size').innerHTML = '[64x64]';\n        this.view.highlightCanvasSize(canvasSize);\n        // this.view.renderUpdatedCanvasSize(canvasSizeOld, this.model);\n        // setTimeout(() => {\n        //   this.model.updateFrame(this.model.activeFrame, this.view.getCurrentImg());\n        // }, 500);\n        break;\n      case 'size128':\n        this.model.setSize(128);\n        document.querySelector('#canvas-size').innerHTML = '[128x128]';\n        this.view.highlightCanvasSize(canvasSize);\n        // this.view.renderUpdatedCanvasSize(canvasSizeOld, this.model);\n        // setTimeout(() => {\n        //   this.model.updateFrame(this.model.activeFrame, this.view.getCurrentImg());\n        // }, 500);\n        break;\n      default:\n        console.warn('unsupported action');\n        break;\n    }\n    setTimeout(() => {\n      this.model.saveModel();\n    }, 1000);\n  }\n\n  handlerChangeInputColor(e) {\n    try {\n      switch (e.target.id) {\n        case 'color-input2':\n          this.view.selectedColor = e.target.style.backgroundColor;\n          break;\n        case 'color-input1':\n          this.view.selectedColor = e.target.style.backgroundColor;\n          break;\n        case 'swap-color':\n          this.swapColorPicker();\n          break;\n        default:\n          console.warn('unsupported action');\n          break;\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  swapColorPicker() {\n    const temp1 = document.querySelector('#color-input1').style.backgroundColor;\n    const temp2 = document.querySelector('#color-input2').style.backgroundColor;\n    document.querySelector('#color-input2').style.backgroundColor = temp1;\n    document.querySelector('#color-input1').style.backgroundColor = temp2;\n    this.view.selectedColor = temp2;\n    if (temp1 === 'transparent') {\n      document.querySelector('#color-input2').style.backgroundImage = 'url(\"https://i.imgur.com/JFVR2Q1.png\")';\n      document.querySelector('#color-input1').style.backgroundImage = 'none';\n    } else if (temp2 === 'transparent') {\n      document.querySelector('#color-input1').style.backgroundImage = 'url(\"https://i.imgur.com/JFVR2Q1.png\")';\n      document.querySelector('#color-input2').style.backgroundImage = 'none';\n    }\n  }\n\n  handlerFrameContainerMouseOver(e) {\n    if (this.view.currentFrame) {\n      return;\n    }\n    let { target } = e;\n    while (target !== this) {\n      if (e.target.classList.contains('canvas-frame')) break; //  frame-item\n      if (!target) break;\n      target = target.parentNode;\n    }\n    if (target === this || !target) return;\n\n    this.view.currentFrame = target;\n    const btns = target.parentNode.querySelectorAll('.hidden'); //  addparentnode\n    Array.from(btns).map(el => el.classList.remove('hidden'));\n  }\n\n  handlerFrameContainerMouseOut(e) {\n    if (!this.view.currentFrame) {\n      return;\n    }\n\n    let { relatedTarget } = e;\n    if (relatedTarget) {\n      while (relatedTarget) {\n        if (relatedTarget === this.view.currentFrame.parentNode) return;\n        relatedTarget = relatedTarget.parentNode;\n      }\n    }\n    const btns = this.view.currentFrame.parentNode.children;\n    Array.from(btns).forEach((el) => {\n      if (!el.classList.contains('canvas-frame')) {\n        el.classList.add('hidden');\n      }\n    });\n\n    this.view.currentFrame = null;\n  }\n\n  handlerFrameContainerClick(e) {\n    if (e.target.classList.contains('btn-delete')) {\n      deleteFrame(e, this.view, this.model);\n    } else if (e.target.classList.contains('btn-copy')) {\n      duplicateFrame(e, this.view, this.model);\n    } else if (e.target.parentNode.classList.contains('frame-item')) {\n      this.model.activeFrame = e.target.parentNode.id;\n      addActiveFrame(e.target.parentNode, this.view, this.model);\n      // render from frame to canvas\n    } else if (e.target.classList.contains('add-item')\n      || e.target.classList.contains('btn-add-item')) {\n      addItemFrame(this.view, this.model);\n      removeMoveEventListener(this.view.frameContainer);\n      addMoveEventListener(this.view.frameContainer, this.view, this.model);\n    }\n  }\n\n  handlerExportToolClick() {\n    const fps = parseInt(document.body.querySelector('#fps').value, 10);\n    if (!fps) {\n      global.alert('Choose frequency of animation');\n    } else if (!(this.model.getLength() - 1)) {\n      global.alert('Add more frames');\n    } else {\n      const exportAnimation = new ExportAnimation(fps);\n      exportAnimation.render(this.model.frames);\n    }\n  }\n\n  handleKeyDown(e) {\n    // B paint bucket tool\n    if (e.which === 66) {\n      this.view.activeTool = 'paint-bucket';\n      this.view.highlightButton(document.querySelector('#paint-bucket'));\n      // P  pen tool\n    } else if (e.which === 80) {\n      this.view.activeTool = 'pen';\n      this.view.highlightButton(document.querySelector('#pen'));\n      this.view.drawWithPen();\n      // V mirror pen\n    } else if (e.which === 86) {\n      this.view.activeTool = 'mirror-pen';\n      this.view.highlightButton(document.querySelector('#mirror-pen'));\n      //  E eraser\n    } else if (e.which === 69) {\n      this.view.activeTool = 'eraser';\n      this.view.highlightButton(document.querySelector('#eraser'));\n      this.view.drawWithPen();\n      // R Rectangle\n    } else if (e.which === 82) {\n      this.view.activeTool = 'rectangle-tool';\n      this.view.highlightButton(document.querySelector('#rectangle-tool'));\n      this.view.drawRectangle(e);\n      // C Circle\n    } else if (e.which === 67) {\n      this.view.activeTool = 'circle-tool';\n      this.view.highlightButton(document.querySelector('#circle-tool'));\n      this.view.drawRectangle(e);\n      // O color-picker\n    } else if (e.which === 79) {\n      this.view.activeTool = 'color-picker';\n      this.view.highlightButton(document.querySelector('#color-picker'));\n      // X color-swap\n    } else if (e.which === 88) {\n      this.swapColorPicker();\n      // ctrl + S\n    } else if (e.ctrlKey && e.which === 83) {\n      e.preventDefault();\n      this.handlerExportToolClick();\n    }\n  }\n}\n","/*!\n * @sphinxxxx/color-conversion v2.2.1\n * https://github.com/Sphinxxxx/color-conversion\n *\n * Copyright 2017-2019 Joudee (https://github.com/Joudee), Andreas Borgen (https://github.com/Sphinxxxx), Michael Jackson (https://github.com/mjackson)\n * Released under the ISC license.\n */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.Color = factory());\n}(this, (function () { 'use strict';\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\nString.prototype.startsWith = String.prototype.startsWith || function (needle) {\n\treturn this.indexOf(needle) === 0;\n};\nString.prototype.padStart = String.prototype.padStart || function (len, pad) {\n\tvar str = this;while (str.length < len) {\n\t\tstr = pad + str;\n\t}return str;\n};\n\nvar colorNames = { aliceblue: '#f0f8ff', antiquewhite: '#faebd7', aqua: '#00ffff', aquamarine: '#7fffd4', azure: '#f0ffff', beige: '#f5f5dc', bisque: '#ffe4c4', black: '#000000', blanchedalmond: '#ffebcd', blue: '#0000ff', blueviolet: '#8a2be2', brown: '#a52a2a', burlywood: '#deb887', cadetblue: '#5f9ea0', chartreuse: '#7fff00', chocolate: '#d2691e', coral: '#ff7f50', cornflowerblue: '#6495ed', cornsilk: '#fff8dc', crimson: '#dc143c', cyan: '#00ffff', darkblue: '#00008b', darkcyan: '#008b8b', darkgoldenrod: '#b8860b', darkgray: '#a9a9a9', darkgreen: '#006400', darkgrey: '#a9a9a9', darkkhaki: '#bdb76b', darkmagenta: '#8b008b', darkolivegreen: '#556b2f', darkorange: '#ff8c00', darkorchid: '#9932cc', darkred: '#8b0000', darksalmon: '#e9967a', darkseagreen: '#8fbc8f', darkslateblue: '#483d8b', darkslategray: '#2f4f4f', darkslategrey: '#2f4f4f', darkturquoise: '#00ced1', darkviolet: '#9400d3', deeppink: '#ff1493', deepskyblue: '#00bfff', dimgray: '#696969', dimgrey: '#696969', dodgerblue: '#1e90ff', firebrick: '#b22222', floralwhite: '#fffaf0', forestgreen: '#228b22', fuchsia: '#ff00ff', gainsboro: '#dcdcdc', ghostwhite: '#f8f8ff', gold: '#ffd700', goldenrod: '#daa520', gray: '#808080', green: '#008000', greenyellow: '#adff2f', grey: '#808080', honeydew: '#f0fff0', hotpink: '#ff69b4', indianred: '#cd5c5c', indigo: '#4b0082', ivory: '#fffff0', khaki: '#f0e68c', lavender: '#e6e6fa', lavenderblush: '#fff0f5', lawngreen: '#7cfc00', lemonchiffon: '#fffacd', lightblue: '#add8e6', lightcoral: '#f08080', lightcyan: '#e0ffff', lightgoldenrodyellow: '#fafad2', lightgray: '#d3d3d3', lightgreen: '#90ee90', lightgrey: '#d3d3d3', lightpink: '#ffb6c1', lightsalmon: '#ffa07a', lightseagreen: '#20b2aa', lightskyblue: '#87cefa', lightslategray: '#778899', lightslategrey: '#778899', lightsteelblue: '#b0c4de', lightyellow: '#ffffe0', lime: '#00ff00', limegreen: '#32cd32', linen: '#faf0e6', magenta: '#ff00ff', maroon: '#800000', mediumaquamarine: '#66cdaa', mediumblue: '#0000cd', mediumorchid: '#ba55d3', mediumpurple: '#9370db', mediumseagreen: '#3cb371', mediumslateblue: '#7b68ee', mediumspringgreen: '#00fa9a', mediumturquoise: '#48d1cc', mediumvioletred: '#c71585', midnightblue: '#191970', mintcream: '#f5fffa', mistyrose: '#ffe4e1', moccasin: '#ffe4b5', navajowhite: '#ffdead', navy: '#000080', oldlace: '#fdf5e6', olive: '#808000', olivedrab: '#6b8e23', orange: '#ffa500', orangered: '#ff4500', orchid: '#da70d6', palegoldenrod: '#eee8aa', palegreen: '#98fb98', paleturquoise: '#afeeee', palevioletred: '#db7093', papayawhip: '#ffefd5', peachpuff: '#ffdab9', peru: '#cd853f', pink: '#ffc0cb', plum: '#dda0dd', powderblue: '#b0e0e6', purple: '#800080', rebeccapurple: '#663399', red: '#ff0000', rosybrown: '#bc8f8f', royalblue: '#4169e1', saddlebrown: '#8b4513', salmon: '#fa8072', sandybrown: '#f4a460', seagreen: '#2e8b57', seashell: '#fff5ee', sienna: '#a0522d', silver: '#c0c0c0', skyblue: '#87ceeb', slateblue: '#6a5acd', slategray: '#708090', slategrey: '#708090', snow: '#fffafa', springgreen: '#00ff7f', steelblue: '#4682b4', tan: '#d2b48c', teal: '#008080', thistle: '#d8bfd8', tomato: '#ff6347', turquoise: '#40e0d0', violet: '#ee82ee', wheat: '#f5deb3', white: '#ffffff', whitesmoke: '#f5f5f5', yellow: '#ffff00', yellowgreen: '#9acd32' };\n\nfunction printNum(num) {\n\tvar decs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\n\tvar str = decs > 0 ? num.toFixed(decs).replace(/0+$/, '').replace(/\\.$/, '') : num.toString();\n\treturn str || '0';\n}\n\nvar Color = function () {\n\tfunction Color(r, g, b, a) {\n\t\tclassCallCheck(this, Color);\n\n\n\t\tvar that = this;\n\t\tfunction parseString(input) {\n\n\t\t\tif (input.startsWith('hsl')) {\n\t\t\t\tvar _input$match$map = input.match(/([\\-\\d\\.e]+)/g).map(Number),\n\t\t\t\t    _input$match$map2 = slicedToArray(_input$match$map, 4),\n\t\t\t\t    h = _input$match$map2[0],\n\t\t\t\t    s = _input$match$map2[1],\n\t\t\t\t    l = _input$match$map2[2],\n\t\t\t\t    _a = _input$match$map2[3];\n\n\t\t\t\tif (_a === undefined) {\n\t\t\t\t\t_a = 1;\n\t\t\t\t}\n\n\t\t\t\th /= 360;\n\t\t\t\ts /= 100;\n\t\t\t\tl /= 100;\n\t\t\t\tthat.hsla = [h, s, l, _a];\n\t\t\t}\n\n\t\t\telse if (input.startsWith('rgb')) {\n\t\t\t\t\tvar _input$match$map3 = input.match(/([\\-\\d\\.e]+)/g).map(Number),\n\t\t\t\t\t    _input$match$map4 = slicedToArray(_input$match$map3, 4),\n\t\t\t\t\t    _r = _input$match$map4[0],\n\t\t\t\t\t    _g = _input$match$map4[1],\n\t\t\t\t\t    _b = _input$match$map4[2],\n\t\t\t\t\t    _a2 = _input$match$map4[3];\n\n\t\t\t\t\tif (_a2 === undefined) {\n\t\t\t\t\t\t_a2 = 1;\n\t\t\t\t\t}\n\n\t\t\t\t\tthat.rgba = [_r, _g, _b, _a2];\n\t\t\t\t}\n\n\t\t\t\telse {\n\t\t\t\t\t\tif (input.startsWith('#')) {\n\t\t\t\t\t\t\tthat.rgba = Color.hexToRgb(input);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthat.rgba = Color.nameToRgb(input) || Color.hexToRgb(input);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t}\n\n\t\tif (r === undefined) {}\n\n\n\t\telse if (Array.isArray(r)) {\n\t\t\t\tthis.rgba = r;\n\t\t\t}\n\n\t\t\telse if (b === undefined) {\n\t\t\t\t\tvar color = r && '' + r;\n\t\t\t\t\tif (color) {\n\t\t\t\t\t\tparseString(color.toLowerCase());\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.rgba = [r, g, b, a === undefined ? 1 : a];\n\t\t\t\t}\n\t}\n\n\n\tcreateClass(Color, [{\n\t\tkey: 'printRGB',\n\t\tvalue: function printRGB(alpha) {\n\t\t\tvar rgb = alpha ? this.rgba : this.rgba.slice(0, 3),\n\t\t\t    vals = rgb.map(function (x, i) {\n\t\t\t\treturn printNum(x, i === 3 ? 3 : 0);\n\t\t\t});\n\n\t\t\treturn alpha ? 'rgba(' + vals + ')' : 'rgb(' + vals + ')';\n\t\t}\n\t}, {\n\t\tkey: 'printHSL',\n\t\tvalue: function printHSL(alpha) {\n\t\t\tvar mults = [360, 100, 100, 1],\n\t\t\t    suff = ['', '%', '%', ''];\n\n\t\t\tvar hsl = alpha ? this.hsla : this.hsla.slice(0, 3),\n\n\t\t\tvals = hsl.map(function (x, i) {\n\t\t\t\treturn printNum(x * mults[i], i === 3 ? 3 : 1) + suff[i];\n\t\t\t});\n\n\t\t\treturn alpha ? 'hsla(' + vals + ')' : 'hsl(' + vals + ')';\n\t\t}\n\t}, {\n\t\tkey: 'printHex',\n\t\tvalue: function printHex(alpha) {\n\t\t\tvar hex = this.hex;\n\t\t\treturn alpha ? hex : hex.substring(0, 7);\n\t\t}\n\n\n\n\t}, {\n\t\tkey: 'rgba',\n\t\tget: function get$$1() {\n\t\t\tif (this._rgba) {\n\t\t\t\treturn this._rgba;\n\t\t\t}\n\t\t\tif (!this._hsla) {\n\t\t\t\tthrow new Error('No color is set');\n\t\t\t}\n\n\t\t\treturn this._rgba = Color.hslToRgb(this._hsla);\n\t\t},\n\t\tset: function set$$1(rgb) {\n\t\t\tif (rgb.length === 3) {\n\t\t\t\trgb[3] = 1;\n\t\t\t}\n\n\t\t\tthis._rgba = rgb;\n\t\t\tthis._hsla = null;\n\t\t}\n\t}, {\n\t\tkey: 'rgbString',\n\t\tget: function get$$1() {\n\t\t\treturn this.printRGB();\n\t\t}\n\t}, {\n\t\tkey: 'rgbaString',\n\t\tget: function get$$1() {\n\t\t\treturn this.printRGB(true);\n\t\t}\n\n\n\t}, {\n\t\tkey: 'hsla',\n\t\tget: function get$$1() {\n\t\t\tif (this._hsla) {\n\t\t\t\treturn this._hsla;\n\t\t\t}\n\t\t\tif (!this._rgba) {\n\t\t\t\tthrow new Error('No color is set');\n\t\t\t}\n\n\t\t\treturn this._hsla = Color.rgbToHsl(this._rgba);\n\t\t},\n\t\tset: function set$$1(hsl) {\n\t\t\tif (hsl.length === 3) {\n\t\t\t\thsl[3] = 1;\n\t\t\t}\n\n\t\t\tthis._hsla = hsl;\n\t\t\tthis._rgba = null;\n\t\t}\n\t}, {\n\t\tkey: 'hslString',\n\t\tget: function get$$1() {\n\t\t\treturn this.printHSL();\n\t\t}\n\t}, {\n\t\tkey: 'hslaString',\n\t\tget: function get$$1() {\n\t\t\treturn this.printHSL(true);\n\t\t}\n\n\n\t}, {\n\t\tkey: 'hex',\n\t\tget: function get$$1() {\n\t\t\tvar rgb = this.rgba,\n\t\t\t    hex = rgb.map(function (x, i) {\n\t\t\t\treturn i < 3 ? x.toString(16) : Math.round(x * 255).toString(16);\n\t\t\t});\n\n\t\t\treturn '#' + hex.map(function (x) {\n\t\t\t\treturn x.padStart(2, '0');\n\t\t\t}).join('');\n\t\t},\n\t\tset: function set$$1(hex) {\n\t\t\tthis.rgba = Color.hexToRgb(hex);\n\t\t}\n\t}], [{\n\t\tkey: 'hexToRgb',\n\t\tvalue: function hexToRgb(input) {\n\t\t\tvar hex = (input.startsWith('#') ? input.slice(1) : input).replace(/^(\\w{3})$/, '$1F') \n\t\t\t.replace(/^(\\w)(\\w)(\\w)(\\w)$/, '$1$1$2$2$3$3$4$4') \n\t\t\t.replace(/^(\\w{6})$/, '$1FF'); \n\n\t\t\tif (!hex.match(/^([0-9a-fA-F]{8})$/)) {\n\t\t\t\tthrow new Error('Unknown hex color; ' + input);\n\t\t\t}\n\n\t\t\tvar rgba = hex.match(/^(\\w\\w)(\\w\\w)(\\w\\w)(\\w\\w)$/).slice(1) \n\t\t\t.map(function (x) {\n\t\t\t\treturn parseInt(x, 16);\n\t\t\t}); \n\n\t\t\trgba[3] = rgba[3] / 255;\n\t\t\treturn rgba;\n\t\t}\n\n\n\t}, {\n\t\tkey: 'nameToRgb',\n\t\tvalue: function nameToRgb(input) {\n\t\t\tvar hex = colorNames[input];\n\t\t\tif (hex) {\n\t\t\t\treturn Color.hexToRgb(hex);\n\t\t\t}\n\t\t}\n\n\n\t}, {\n\t\tkey: 'rgbToHsl',\n\t\tvalue: function rgbToHsl(_ref) {\n\t\t\tvar _ref2 = slicedToArray(_ref, 4),\n\t\t\t    r = _ref2[0],\n\t\t\t    g = _ref2[1],\n\t\t\t    b = _ref2[2],\n\t\t\t    a = _ref2[3];\n\n\t\t\tr /= 255;\n\t\t\tg /= 255;\n\t\t\tb /= 255;\n\n\t\t\tvar max = Math.max(r, g, b),\n\t\t\t    min = Math.min(r, g, b);\n\t\t\tvar h = void 0,\n\t\t\t    s = void 0,\n\t\t\t    l = (max + min) / 2;\n\n\t\t\tif (max === min) {\n\t\t\t\th = s = 0; \n\t\t\t} else {\n\t\t\t\tvar d = max - min;\n\t\t\t\ts = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n\t\t\t\tswitch (max) {\n\t\t\t\t\tcase r:\n\t\t\t\t\t\th = (g - b) / d + (g < b ? 6 : 0);break;\n\t\t\t\t\tcase g:\n\t\t\t\t\t\th = (b - r) / d + 2;break;\n\t\t\t\t\tcase b:\n\t\t\t\t\t\th = (r - g) / d + 4;break;\n\t\t\t\t}\n\n\t\t\t\th /= 6;\n\t\t\t}\n\n\t\t\treturn [h, s, l, a];\n\t\t}\n\n\n\t}, {\n\t\tkey: 'hslToRgb',\n\t\tvalue: function hslToRgb(_ref3) {\n\t\t\tvar _ref4 = slicedToArray(_ref3, 4),\n\t\t\t    h = _ref4[0],\n\t\t\t    s = _ref4[1],\n\t\t\t    l = _ref4[2],\n\t\t\t    a = _ref4[3];\n\n\t\t\tvar r = void 0,\n\t\t\t    g = void 0,\n\t\t\t    b = void 0;\n\n\t\t\tif (s === 0) {\n\t\t\t\tr = g = b = l; \n\t\t\t} else {\n\t\t\t\tvar hue2rgb = function hue2rgb(p, q, t) {\n\t\t\t\t\tif (t < 0) t += 1;\n\t\t\t\t\tif (t > 1) t -= 1;\n\t\t\t\t\tif (t < 1 / 6) return p + (q - p) * 6 * t;\n\t\t\t\t\tif (t < 1 / 2) return q;\n\t\t\t\t\tif (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n\t\t\t\t\treturn p;\n\t\t\t\t};\n\n\t\t\t\tvar q = l < 0.5 ? l * (1 + s) : l + s - l * s,\n\t\t\t\t    p = 2 * l - q;\n\n\t\t\t\tr = hue2rgb(p, q, h + 1 / 3);\n\t\t\t\tg = hue2rgb(p, q, h);\n\t\t\t\tb = hue2rgb(p, q, h - 1 / 3);\n\t\t\t}\n\n\t\t\tvar rgba = [r * 255, g * 255, b * 255].map(Math.round);\n\t\t\trgba[3] = a;\n\n\t\t\treturn rgba;\n\t\t}\n\t}]);\n\treturn Color;\n}();\n\nreturn Color;\n\n})));\n","export default function animationPreviewWorker(view, model) {\n  const canvasPreview = document.body.querySelector('#canvas-preview');\n  const rangeFps = document.body.querySelector('#fps');\n  let timerId;\n  let indexFrame = 0;\n\n  async function drawPreview(index) {\n    const frame = await model.getFrame(index);\n    if (canvasPreview.getContext) {\n      const ctx = canvasPreview.getContext('2d');\n      ctx.clearRect(0, 0, canvasPreview.width, canvasPreview.height);\n      if (frame.img) {\n        const newImg = document.createElement('img');\n        newImg.src = frame.img.src;\n\n        newImg.onload = () => {\n          // no longer need to read the blob so it's revoked\n          ctx.drawImage(newImg, 0, 0, canvasPreview.clientWidth, canvasPreview.clientHeight);\n        };\n      }\n    }\n  }\n\n  document.querySelector('#btn-preview-popup').addEventListener('click', () => {\n    document.querySelector('.container-preview-canvas').requestFullscreen();\n    document.querySelector('.container-preview-canvas').onfullscreenchange = () => {\n      if (document.querySelector('.container-preview-canvas') === document.fullscreenElement) {\n        canvasPreview.width = window.innerHeight;\n        canvasPreview.height = window.innerHeight;\n      } else {\n        canvasPreview.width = 200;\n        canvasPreview.height = 200;\n      }\n    };\n  });\n\n  canvasPreview.addEventListener('load', drawPreview(model.activeFrame));\n\n  view.frameContainer.addEventListener('click', () => {\n    drawPreview(model.activeFrame);\n  });\n\n\n  // view.canvas.addEventListener('click', () => {\n  //   drawPreview(model.activeFrame);\n  // });\n\n\n  function changeFrames() {\n    const framesAmount = model.getLength();\n    if (indexFrame === framesAmount) indexFrame = 0;\n    drawPreview(indexFrame);\n    indexFrame += +1;\n  }\n\n  rangeFps.addEventListener('input', () => {\n    clearInterval(timerId);\n    const span = document.querySelector('#spanFps');\n    const fps = rangeFps.value;\n    span.innerHTML = fps;\n    // fpsGlobal = fps;\n    if (fps > 0) {\n      // timerId = setInterval(changeFrames, 1000 / fps);\n      timerId = setTimeout(function tick() {\n        requestAnimationFrame(changeFrames);\n        // Drawing code goes here\n        timerId = setTimeout(tick, 1000 / fps);\n      }, 1000 / fps);\n    }\n  });\n}\n","import GIF from './gif';\nimport download from './download';\n\nexport default class ExportAnimation {\n  constructor(fps) {\n    this.framerate = Math.round(1000 / fps);\n    this.gif = null;\n  }\n\n  render(frames) {\n    this.gif = new GIF({\n      workers: 2,\n      workerScript: './workerGif.bundle.js',\n      quality: 10,\n      debug: true,\n      // width: size.width,\n      // height: size.height,\n    });\n    frames.forEach((imageElement) => {\n      const image = imageElement.getImage();\n      this.gif.addFrame(image, { delay: this.framerate });\n    });\n    // frames.forEach((imageElement) => {\n    //   const image = imageElement.getImage();\n    //   const canvas = document.createElement('canvas');\n    //   canvas.width = size.width;\n    //   canvas.height = size.height;\n    //   const img = new Image();\n    //   let dataURL = '';\n    //   if (canvas.getContext) {\n    //     const ctx = canvas.getContext('2d');\n    //     img.onload = () => {\n    //       ctx.drawImage(image, 0, 0, canvas.width, canvas.height);\n    //       dataURL = canvas.toDataURL('image/png');\n    //     };\n    //     img.src = dataURL;\n    //   }\n\n    //   this.gif.addFrame(img, { delay: this.framerate });\n    // });\n\n    this.gif.on('finished', (blobUrl) => {\n      window.open(URL.createObjectURL(blobUrl));\n      download(blobUrl, 'dlDataUrlBin.gif', 'image/gif');\n    });\n    this.gif.render();\n  }\n}\n","/* eslint-disable */\n// gif.js 0.2.0 - https://github.com/jnordberg/gif.js\n(function (f) {\n  if (typeof exports === \"object\" && typeof module !== \"undefined\") {\n    module.exports = f()\n  }\n  else if (typeof define === \"function\" && define.amd) {\n    define([], f)\n  }\n  else {\n    var g;\n    if (typeof window !== \"undefined\") {\n      g = window\n    }\n    else if (typeof global !== \"undefined\") {\n      g = global\n    }\n    else if (typeof self !== \"undefined\") {\n      g = self\n    }\n    else {\n      g = this\n    }\n    g.GIF = f()\n  }\n})(function () {\n  var define, module, exports;\n  return function e(t, n, r) {\n    function s(o, u) {\n      if (!n[o]) {\n        if (!t[o]) {\n          var a = typeof require == \"function\" && require;\n          if (!u && a) return a(o, !0);\n          if (i) return i(o, !0);\n          var f = new Error(\"Cannot find module '\" + o + \"'\");\n          throw f.code = \"MODULE_NOT_FOUND\", f\n        }\n        var l = n[o] = {\n          exports:\n            {}\n        };\n        t[o][0].call(l.exports, function (e) {\n          var n = t[o][1][e];\n          return s(n ? n : e)\n        }, l, l.exports, e, t, n, r)\n      }\n      return n[o].exports\n    }\n    var i = typeof require == \"function\" && require;\n    for (var o = 0; o < r.length; o++) s(r[o]);\n    return s\n  }(\n    {\n      1: [function (require, module, exports) {\n        function EventEmitter() {\n          this._events = this._events ||\n            {};\n          this._maxListeners = this._maxListeners || undefined\n        }\n        module.exports = EventEmitter;\n        EventEmitter.EventEmitter = EventEmitter;\n        EventEmitter.prototype._events = undefined;\n        EventEmitter.prototype._maxListeners = undefined;\n        EventEmitter.defaultMaxListeners = 10;\n        EventEmitter.prototype.setMaxListeners = function (n) {\n          if (!isNumber(n) || n < 0 || isNaN(n)) throw TypeError(\"n must be a positive number\");\n          this._maxListeners = n;\n          return this\n        };\n        EventEmitter.prototype.emit = function (type) {\n          var er, handler, len, args, i, listeners;\n          if (!this._events) this._events = {};\n          if (type === \"error\") {\n            if (!this._events.error || isObject(this._events.error) && !this._events.error.length) {\n              er = arguments[1];\n              if (er instanceof Error) {\n                throw er\n              }\n              else {\n                var err = new Error('Uncaught, unspecified \"error\" event. (' + er + \")\");\n                err.context = er;\n                throw err\n              }\n            }\n          }\n          handler = this._events[type];\n          if (isUndefined(handler)) return false;\n          if (isFunction(handler)) {\n            switch (arguments.length) {\n              case 1:\n                handler.call(this);\n                break;\n              case 2:\n                handler.call(this, arguments[1]);\n                break;\n              case 3:\n                handler.call(this, arguments[1], arguments[2]);\n                break;\n              default:\n                args = Array.prototype.slice.call(arguments, 1);\n                handler.apply(this, args)\n            }\n          }\n          else if (isObject(handler)) {\n            args = Array.prototype.slice.call(arguments, 1);\n            listeners = handler.slice();\n            len = listeners.length;\n            for (i = 0; i < len; i++) listeners[i].apply(this, args)\n          }\n          return true\n        };\n        EventEmitter.prototype.addListener = function (type, listener) {\n          var m;\n          if (!isFunction(listener)) throw TypeError(\"listener must be a function\");\n          if (!this._events) this._events = {};\n          if (this._events.newListener) this.emit(\"newListener\", type, isFunction(listener.listener) ? listener.listener : listener);\n          if (!this._events[type]) this._events[type] = listener;\n          else if (isObject(this._events[type])) this._events[type].push(listener);\n          else this._events[type] = [this._events[type], listener];\n          if (isObject(this._events[type]) && !this._events[type].warned) {\n            if (!isUndefined(this._maxListeners)) {\n              m = this._maxListeners\n            }\n            else {\n              m = EventEmitter.defaultMaxListeners\n            }\n            if (m && m > 0 && this._events[type].length > m) {\n              this._events[type].warned = true;\n              console.error(\"(node) warning: possible EventEmitter memory \" + \"leak detected. %d listeners added. \" + \"Use emitter.setMaxListeners() to increase limit.\", this._events[type].length);\n              if (typeof console.trace === \"function\") {\n                console.trace()\n              }\n            }\n          }\n          return this\n        };\n        EventEmitter.prototype.on = EventEmitter.prototype.addListener;\n        EventEmitter.prototype.once = function (type, listener) {\n          if (!isFunction(listener)) throw TypeError(\"listener must be a function\");\n          var fired = false;\n\n          function g() {\n            this.removeListener(type, g);\n            if (!fired) {\n              fired = true;\n              listener.apply(this, arguments)\n            }\n          }\n          g.listener = listener;\n          this.on(type, g);\n          return this\n        };\n        EventEmitter.prototype.removeListener = function (type, listener) {\n          var list, position, length, i;\n          if (!isFunction(listener)) throw TypeError(\"listener must be a function\");\n          if (!this._events || !this._events[type]) return this;\n          list = this._events[type];\n          length = list.length;\n          position = -1;\n          if (list === listener || isFunction(list.listener) && list.listener === listener) {\n            delete this._events[type];\n            if (this._events.removeListener) this.emit(\"removeListener\", type, listener)\n          }\n          else if (isObject(list)) {\n            for (i = length; i-- > 0;) {\n              if (list[i] === listener || list[i].listener && list[i].listener === listener) {\n                position = i;\n                break\n              }\n            }\n            if (position < 0) return this;\n            if (list.length === 1) {\n              list.length = 0;\n              delete this._events[type]\n            }\n            else {\n              list.splice(position, 1)\n            }\n            if (this._events.removeListener) this.emit(\"removeListener\", type, listener)\n          }\n          return this\n        };\n        EventEmitter.prototype.removeAllListeners = function (type) {\n          var key, listeners;\n          if (!this._events) return this;\n          if (!this._events.removeListener) {\n            if (arguments.length === 0) this._events = {};\n            else if (this._events[type]) delete this._events[type];\n            return this\n          }\n          if (arguments.length === 0) {\n            for (key in this._events) {\n              if (key === \"removeListener\") continue;\n              this.removeAllListeners(key)\n            }\n            this.removeAllListeners(\"removeListener\");\n            this._events = {};\n            return this\n          }\n          listeners = this._events[type];\n          if (isFunction(listeners)) {\n            this.removeListener(type, listeners)\n          }\n          else if (listeners) {\n            while (listeners.length) this.removeListener(type, listeners[listeners.length - 1])\n          }\n          delete this._events[type];\n          return this\n        };\n        EventEmitter.prototype.listeners = function (type) {\n          var ret;\n          if (!this._events || !this._events[type]) ret = [];\n          else if (isFunction(this._events[type])) ret = [this._events[type]];\n          else ret = this._events[type].slice();\n          return ret\n        };\n        EventEmitter.prototype.listenerCount = function (type) {\n          if (this._events) {\n            var evlistener = this._events[type];\n            if (isFunction(evlistener)) return 1;\n            else if (evlistener) return evlistener.length\n          }\n          return 0\n        };\n        EventEmitter.listenerCount = function (emitter, type) {\n          return emitter.listenerCount(type)\n        };\n\n        function isFunction(arg) {\n          return typeof arg === \"function\"\n        }\n\n        function isNumber(arg) {\n          return typeof arg === \"number\"\n        }\n\n        function isObject(arg) {\n          return typeof arg === \"object\" && arg !== null\n        }\n\n        function isUndefined(arg) {\n          return arg === void 0\n        }\n      },\n      {}],\n      2: [function (require, module, exports) {\n        var UA, browser, mode, platform, ua;\n        ua = navigator.userAgent.toLowerCase();\n        platform = navigator.platform.toLowerCase();\n        UA = ua.match(/(opera|ie|firefox|chrome|version)[\\s\\/:]([\\w\\d\\.]+)?.*?(safari|version[\\s\\/:]([\\w\\d\\.]+)|$)/) || [null, \"unknown\", 0];\n        mode = UA[1] === \"ie\" && document.documentMode;\n        browser = {\n          name: UA[1] === \"version\" ? UA[3] : UA[1],\n          version: mode || parseFloat(UA[1] === \"opera\" && UA[4] ? UA[4] : UA[2]),\n          platform:\n          {\n            name: ua.match(/ip(?:ad|od|hone)/) ? \"ios\" : (ua.match(/(?:webos|android)/) || platform.match(/mac|win|linux/) || [\"other\"])[0]\n          }\n        };\n        browser[browser.name] = true;\n        browser[browser.name + parseInt(browser.version, 10)] = true;\n        browser.platform[browser.platform.name] = true;\n        module.exports = browser\n      },\n      {}],\n      3: [function (require, module, exports) {\n        var EventEmitter, GIF, browser, extend = function (child, parent) {\n          for (var key in parent) {\n            if (hasProp.call(parent, key)) child[key] = parent[key]\n          }\n\n          function ctor() {\n            this.constructor = child\n          }\n          ctor.prototype = parent.prototype;\n          child.prototype = new ctor;\n          child.__super__ = parent.prototype;\n          return child\n        },\n          hasProp = {}.hasOwnProperty,\n          indexOf = [].indexOf || function (item) {\n            for (var i = 0, l = this.length; i < l; i++) {\n              if (i in this && this[i] === item) return i\n            }\n            return -1\n          },\n          slice = [].slice;\n        EventEmitter = require(\"events\").EventEmitter;\n        browser = require(\"./browser.coffee\");\n        GIF = function (superClass) {\n          var defaults, frameDefaults;\n          extend(GIF, superClass);\n          defaults = {\n            workerScript: \"gif.worker.js\",\n            workers: 2,\n            repeat: 0,\n            background: \"#ffffffff\",\n            quality: 10,\n            width: null,\n            height: null,\n            transparent: null,\n            debug: false,\n            dither: false\n          };\n          frameDefaults = {\n            delay: 500,\n            copy: false\n          };\n\n          function GIF(options) {\n            var base, key, value;\n            this.running = false;\n            this.options = {};\n            this.frames = [];\n            this.freeWorkers = [];\n            this.activeWorkers = [];\n            this.setOptions(options);\n            for (key in defaults) {\n              value = defaults[key];\n              if ((base = this.options)[key] == null) {\n                base[key] = value\n              }\n            }\n          }\n          GIF.prototype.setOption = function (key, value) {\n            this.options[key] = value;\n            if (this._canvas != null && (key === \"width\" || key === \"height\")) {\n              return this._canvas[key] = value\n            }\n          };\n          GIF.prototype.setOptions = function (options) {\n            var key, results, value;\n            results = [];\n            for (key in options) {\n              if (!hasProp.call(options, key)) continue;\n              value = options[key];\n              results.push(this.setOption(key, value))\n            }\n            return results\n          };\n          GIF.prototype.addFrame = function (image, options) {\n            var frame, key;\n            if (options == null) {\n              options = {}\n            }\n            frame = {};\n            frame.transparent = this.options.transparent;\n            for (key in frameDefaults) {\n              frame[key] = options[key] || frameDefaults[key]\n            }\n            if (this.options.width == null) {\n              this.setOption(\"width\", image.width)\n            }\n            if (this.options.height == null) {\n              this.setOption(\"height\", image.height)\n            }\n            if (typeof ImageData !== \"undefined\" && ImageData !== null && image instanceof ImageData) {\n              frame.data = image.data\n            }\n            else if (typeof CanvasRenderingContext2D !== \"undefined\" && CanvasRenderingContext2D !== null && image instanceof CanvasRenderingContext2D || typeof WebGLRenderingContext !== \"undefined\" && WebGLRenderingContext !== null && image instanceof WebGLRenderingContext) {\n              if (options.copy) {\n                frame.data = this.getContextData(image)\n              }\n              else {\n                frame.context = image\n              }\n            }\n            else if (image.childNodes != null) {\n              if (options.copy) {\n                frame.data = this.getImageData(image)\n              }\n              else {\n                frame.image = image\n              }\n            }\n            else {\n              throw new Error(\"Invalid image\")\n            }\n            return this.frames.push(frame)\n          };\n          GIF.prototype.render = function () {\n            var i, j, numWorkers, ref;\n            if (this.running) {\n              throw new Error(\"Already running\")\n            }\n            if (this.options.width == null || this.options.height == null) {\n              throw new Error(\"Width and height must be set prior to rendering\")\n            }\n            this.running = true;\n            this.nextFrame = 0;\n            this.finishedFrames = 0;\n            this.imageParts = function () {\n              var j, ref, results;\n              results = [];\n              for (i = j = 0, ref = this.frames.length; 0 <= ref ? j < ref : j > ref; i = 0 <= ref ? ++j : --j) {\n                results.push(null)\n              }\n              return results\n            }.call(this);\n            numWorkers = this.spawnWorkers();\n            if (this.options.globalPalette === true) {\n              this.renderNextFrame()\n            }\n            else {\n              for (i = j = 0, ref = numWorkers; 0 <= ref ? j < ref : j > ref; i = 0 <= ref ? ++j : --j) {\n                this.renderNextFrame()\n              }\n            }\n            this.emit(\"start\");\n            return this.emit(\"progress\", 0)\n          };\n          GIF.prototype.abort = function () {\n            var worker;\n            while (true) {\n              worker = this.activeWorkers.shift();\n              if (worker == null) {\n                break\n              }\n              this.log(\"killing active worker\");\n              worker.terminate()\n            }\n            this.running = false;\n            return this.emit(\"abort\")\n          };\n          GIF.prototype.spawnWorkers = function () {\n            var j, numWorkers, ref, results;\n            numWorkers = Math.min(this.options.workers, this.frames.length);\n            (function () {\n              results = [];\n              for (var j = ref = this.freeWorkers.length; ref <= numWorkers ? j < numWorkers : j > numWorkers; ref <= numWorkers ? j++ : j--) {\n                results.push(j)\n              }\n              return results\n            }).apply(this).forEach(function (_this) {\n              return function (i) {\n                var worker;\n                _this.log(\"spawning worker \" + i);\n                worker = new Worker(_this.options.workerScript);\n                worker.onmessage = function (event) {\n                  _this.activeWorkers.splice(_this.activeWorkers.indexOf(worker), 1);\n                  _this.freeWorkers.push(worker);\n                  return _this.frameFinished(event.data)\n                };\n                return _this.freeWorkers.push(worker)\n              }\n            }(this));\n            return numWorkers\n          };\n          GIF.prototype.frameFinished = function (frame) {\n            var i, j, ref;\n            this.log(\"frame \" + frame.index + \" finished - \" + this.activeWorkers.length + \" active\");\n            this.finishedFrames++;\n            this.emit(\"progress\", this.finishedFrames / this.frames.length);\n            this.imageParts[frame.index] = frame;\n            if (this.options.globalPalette === true) {\n              this.options.globalPalette = frame.globalPalette;\n              this.log(\"global palette analyzed\");\n              if (this.frames.length > 2) {\n                for (i = j = 1, ref = this.freeWorkers.length; 1 <= ref ? j < ref : j > ref; i = 1 <= ref ? ++j : --j) {\n                  this.renderNextFrame()\n                }\n              }\n            }\n            if (indexOf.call(this.imageParts, null) >= 0) {\n              return this.renderNextFrame()\n            }\n            else {\n              return this.finishRendering()\n            }\n          };\n          GIF.prototype.finishRendering = function () {\n            var data, frame, i, image, j, k, l, len, len1, len2, len3, offset, page, ref, ref1, ref2;\n            len = 0;\n            ref = this.imageParts;\n            for (j = 0, len1 = ref.length; j < len1; j++) {\n              frame = ref[j];\n              len += (frame.data.length - 1) * frame.pageSize + frame.cursor\n            }\n            len += frame.pageSize - frame.cursor;\n            this.log(\"rendering finished - filesize \" + Math.round(len / 1e3) + \"kb\");\n            data = new Uint8Array(len);\n            offset = 0;\n            ref1 = this.imageParts;\n            for (k = 0, len2 = ref1.length; k < len2; k++) {\n              frame = ref1[k];\n              ref2 = frame.data;\n              for (i = l = 0, len3 = ref2.length; l < len3; i = ++l) {\n                page = ref2[i];\n                data.set(page, offset);\n                if (i === frame.data.length - 1) {\n                  offset += frame.cursor\n                }\n                else {\n                  offset += frame.pageSize\n                }\n              }\n            }\n            image = new Blob([data],\n              {\n                type: \"image/gif\"\n              });\n            return this.emit(\"finished\", image, data)\n          };\n          GIF.prototype.renderNextFrame = function () {\n            var frame, task, worker;\n            if (this.freeWorkers.length === 0) {\n              throw new Error(\"No free workers\")\n            }\n            if (this.nextFrame >= this.frames.length) {\n              return\n            }\n            frame = this.frames[this.nextFrame++];\n            worker = this.freeWorkers.shift();\n            task = this.getTask(frame);\n            this.log(\"starting frame \" + (task.index + 1) + \" of \" + this.frames.length);\n            this.activeWorkers.push(worker);\n            return worker.postMessage(task)\n          };\n          GIF.prototype.getContextData = function (ctx) {\n            return ctx.getImageData(0, 0, this.options.width, this.options.height).data\n          };\n          GIF.prototype.getImageData = function (image) {\n            var ctx;\n            if (this._canvas == null) {\n              this._canvas = document.createElement(\"canvas\");\n              this._canvas.width = this.options.width;\n              this._canvas.height = this.options.height\n            }\n            ctx = this._canvas.getContext(\"2d\");\n            ctx.fillStyle = this.options.background;\n            ctx.fillRect(0, 0, this.options.width, this.options.height);\n            ctx.drawImage(image, 0, 0);\n            return this.getContextData(ctx)\n          };\n          GIF.prototype.getTask = function (frame) {\n            var index, task;\n            index = this.frames.indexOf(frame);\n            task = {\n              index: index,\n              last: index === this.frames.length - 1,\n              delay: frame.delay,\n              transparent: frame.transparent,\n              width: this.options.width,\n              height: this.options.height,\n              quality: this.options.quality,\n              dither: this.options.dither,\n              globalPalette: this.options.globalPalette,\n              repeat: this.options.repeat,\n              canTransfer: browser.name === \"chrome\"\n            };\n            if (frame.data != null) {\n              task.data = frame.data\n            }\n            else if (frame.context != null) {\n              task.data = this.getContextData(frame.context)\n            }\n            else if (frame.image != null) {\n              task.data = this.getImageData(frame.image)\n            }\n            else {\n              throw new Error(\"Invalid frame\")\n            }\n            return task\n          };\n          GIF.prototype.log = function () {\n            var args;\n            args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n            if (!this.options.debug) {\n              return\n            }\n            return console.log.apply(console, args)\n          };\n          return GIF\n        }(EventEmitter);\n        module.exports = GIF\n      },\n      {\n        \"./browser.coffee\": 2,\n        events: 1\n      }]\n    },\n    {}, [3])(3)\n});\n\n","/* eslint-disable */\n//download.js v4.2, by dandavis; 2008-2016. [CCBY2] see http://danml.com/download.html for tests/usage\n// v1 landed a FF+Chrome compat way of downloading strings to local un-named files, upgraded to use a hidden frame and optional mime\n// v2 added named files via a[download], msSaveBlob, IE (10+) support, and window.URL support for larger+faster saves than dataURLs\n// v3 added dataURL and Blob Input, bind-toggle arity, and legacy dataURL fallback was improved with force-download mime and base64 support. 3.1 improved safari handling.\n// v4 adds AMD/UMD, commonJS, and plain browser support\n// v4.1 adds url download capability via solo URL argument (same domain/CORS only)\n// v4.2 adds semantic variable names, long (over 2MB) dataURL support, and hidden by default temp anchors\n// https://github.com/rndme/download\n\n(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define([], factory);\n  } else if (typeof exports === 'object') {\n    // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like environments that support module.exports,\n    // like Node.\n    module.exports = factory();\n  } else {\n    // Browser globals (root is window)\n    root.download = factory();\n  }\n}(this, function () {\n\n  return function download(data, strFileName, strMimeType) {\n\n    var self = window, // this script is only for browsers anyway...\n      defaultMime = \"application/octet-stream\", // this default mime also triggers iframe downloads\n      mimeType = strMimeType || defaultMime,\n      payload = data,\n      url = !strFileName && !strMimeType && payload,\n      anchor = document.createElement(\"a\"),\n      toString = function (a) { return String(a); },\n      myBlob = (self.Blob || self.MozBlob || self.WebKitBlob || toString),\n      fileName = strFileName || \"download\",\n      blob,\n      reader;\n    myBlob = myBlob.call ? myBlob.bind(self) : Blob;\n\n    if (String(this) === \"true\") { //reverse arguments, allowing download.bind(true, \"text/xml\", \"export.xml\") to act as a callback\n      payload = [payload, mimeType];\n      mimeType = payload[0];\n      payload = payload[1];\n    }\n\n\n    if (url && url.length < 2048) { // if no filename and no mime, assume a url was passed as the only argument\n      fileName = url.split(\"/\").pop().split(\"?\")[0];\n      anchor.href = url; // assign href prop to temp anchor\n      if (anchor.href.indexOf(url) !== -1) { // if the browser determines that it's a potentially valid url path:\n        var ajax = new XMLHttpRequest();\n        ajax.open(\"GET\", url, true);\n        ajax.responseType = 'blob';\n        ajax.onload = function (e) {\n          download(e.target.response, fileName, defaultMime);\n        };\n        setTimeout(function () { ajax.send(); }, 0); // allows setting custom ajax headers using the return:\n        return ajax;\n      } // end if valid url?\n    } // end if url?\n\n\n    //go ahead and download dataURLs right away\n    if (/^data\\:[\\w+\\-]+\\/[\\w+\\-]+[,;]/.test(payload)) {\n\n      if (payload.length > (1024 * 1024 * 1.999) && myBlob !== toString) {\n        payload = dataUrlToBlob(payload);\n        mimeType = payload.type || defaultMime;\n      } else {\n        return navigator.msSaveBlob ?  // IE10 can't do a[download], only Blobs:\n          navigator.msSaveBlob(dataUrlToBlob(payload), fileName) :\n          saver(payload); // everyone else can save dataURLs un-processed\n      }\n\n    }//end if dataURL passed?\n\n    blob = payload instanceof myBlob ?\n      payload :\n      new myBlob([payload], { type: mimeType });\n\n\n    function dataUrlToBlob(strUrl) {\n      var parts = strUrl.split(/[:;,]/),\n        type = parts[1],\n        decoder = parts[2] == \"base64\" ? atob : decodeURIComponent,\n        binData = decoder(parts.pop()),\n        mx = binData.length,\n        i = 0,\n        uiArr = new Uint8Array(mx);\n\n      for (i; i < mx; ++i) uiArr[i] = binData.charCodeAt(i);\n\n      return new myBlob([uiArr], { type: type });\n    }\n\n    function saver(url, winMode) {\n\n      if ('download' in anchor) { //html5 A[download]\n        anchor.href = url;\n        anchor.setAttribute(\"download\", fileName);\n        anchor.className = \"download-js-link\";\n        anchor.innerHTML = \"downloading...\";\n        anchor.style.display = \"none\";\n        document.body.appendChild(anchor);\n        setTimeout(function () {\n          anchor.click();\n          document.body.removeChild(anchor);\n          if (winMode === true) { setTimeout(function () { self.URL.revokeObjectURL(anchor.href); }, 250); }\n        }, 66);\n        return true;\n      }\n\n      // handle non-a[download] safari as best we can:\n      if (/(Version)\\/(\\d+)\\.(\\d+)(?:\\.(\\d+))?.*Safari\\//.test(navigator.userAgent)) {\n        url = url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n        if (!window.open(url)) { // popup blocked, offer direct download:\n          if (confirm(\"Displaying New Document\\n\\nUse Save As... to download, then click back to return to this page.\")) { location.href = url; }\n        }\n        return true;\n      }\n\n      //do iframe dataURL download (old ch+FF):\n      var f = document.createElement(\"iframe\");\n      document.body.appendChild(f);\n\n      if (!winMode) { // force a mime that will download:\n        url = \"data:\" + url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n      }\n      f.src = url;\n      setTimeout(function () { document.body.removeChild(f); }, 333);\n\n    }//end saver\n\n\n\n\n    if (navigator.msSaveBlob) { // IE10+ : (has Blob, but not a[download] or URL)\n      return navigator.msSaveBlob(blob, fileName);\n    }\n\n    if (self.URL) { // simple fast and modern way using Blob and URL:\n      saver(self.URL.createObjectURL(blob), true);\n    } else {\n      // handle non-Blob()+non-URL browsers:\n      if (typeof blob === \"string\" || blob.constructor === toString) {\n        try {\n          return saver(\"data:\" + mimeType + \";base64,\" + self.btoa(blob));\n        } catch (y) {\n          return saver(\"data:\" + mimeType + \",\" + encodeURIComponent(blob));\n        }\n      }\n\n      // Blob but not URL support:\n      reader = new FileReader();\n      reader.onload = function (e) {\n        saver(this.result);\n      };\n      reader.readAsDataURL(blob);\n    }\n    return true;\n  }; /* end download() */\n}));\n","/*global HTMLElement*/\n\nimport Color from '@sphinxxxx/color-conversion';\nimport dragTracker from 'drag-tracker';\n\n\nconst BG_TRANSP = `url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='2' height='2'%3E%3Cpath d='M1,0H0V1H2V2H1' fill='lightgrey'/%3E%3C/svg%3E\")`;\nconst HUES = 360;\n//We need to use keydown instead of keypress to handle Esc from the editor textbox:\nconst EVENT_KEY = 'keydown', //'keypress'\n      EVENT_CLICK_OUTSIDE = 'mousedown',\n      EVENT_TAB_MOVE = 'focusin';\n\n\nfunction parseHTML(htmlString) {\n    //https://stackoverflow.com/questions/494143/creating-a-new-dom-element-from-an-html-string-using-built-in-dom-methods-or-pro\n    const div = document.createElement('div');\n    div.innerHTML = htmlString;\n    return div.firstElementChild;\n}\n\nfunction $(selector, context) {\n    return (context || document).querySelector(selector);\n}\n\nfunction addEvent(target, type, handler) {\n    target.addEventListener(type, handler, false);\n}\nfunction stopEvent(e) {\n    //Stop an event from bubbling up to the parent:\n    e.preventDefault();\n    e.stopPropagation();\n}\nfunction onKey(target, keys, handler, stop) {\n    addEvent(target, EVENT_KEY, function(e) {\n        if(keys.indexOf(e.key) >= 0) {\n            if(stop) { stopEvent(e); }\n            handler(e);\n        }\n    });\n}\n\n\n/* Inlined Picker CSS */\nconst _style = document.createElement('style');\n_style.textContent = `.picker_wrapper.no_alpha .picker_alpha{display:none}.picker_wrapper.no_editor .picker_editor{position:absolute;z-index:-1;opacity:0}.layout_default.picker_wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row wrap;flex-flow:row wrap;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;font-size:10px;width:25em;padding:.5em}.layout_default.picker_wrapper input,.layout_default.picker_wrapper button{font-size:1rem}.layout_default.picker_wrapper>*{margin:.5em}.layout_default.picker_wrapper::before{content:'';display:block;width:100%;height:0;-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}.layout_default .picker_slider,.layout_default .picker_selector{padding:1em}.layout_default .picker_hue{width:100%}.layout_default .picker_sl{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto}.layout_default .picker_sl::before{content:'';display:block;padding-bottom:100%}.layout_default .picker_editor{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1;width:6rem}.layout_default .picker_editor input{width:calc(100% + 2px);height:calc(100% + 2px)}.layout_default .picker_sample{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto}.layout_default .picker_done{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}.picker_wrapper{-webkit-box-sizing:border-box;box-sizing:border-box;background:#f2f2f2;-webkit-box-shadow:0 0 0 1px silver;box-shadow:0 0 0 1px silver;cursor:default;font-family:sans-serif;color:#444;pointer-events:auto}.picker_wrapper:focus{outline:none}.picker_wrapper button,.picker_wrapper input{margin:-1px}.picker_selector{position:absolute;z-index:1;display:block;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);border:2px solid white;border-radius:100%;-webkit-box-shadow:0 0 3px 1px #67b9ff;box-shadow:0 0 3px 1px #67b9ff;background:currentColor;cursor:pointer}.picker_slider .picker_selector{border-radius:2px}.picker_hue{position:relative;background-image:-webkit-gradient(linear, left top, right top, from(red), color-stop(yellow), color-stop(lime), color-stop(cyan), color-stop(blue), color-stop(magenta), to(red));background-image:linear-gradient(90deg, red, yellow, lime, cyan, blue, magenta, red);-webkit-box-shadow:0 0 0 1px silver;box-shadow:0 0 0 1px silver}.picker_sl{position:relative;-webkit-box-shadow:0 0 0 1px silver;box-shadow:0 0 0 1px silver;background-image:-webkit-gradient(linear, left top, left bottom, from(white), color-stop(50%, rgba(255,255,255,0))),-webkit-gradient(linear, left bottom, left top, from(black), color-stop(50%, rgba(0,0,0,0))),-webkit-gradient(linear, left top, right top, from(gray), to(rgba(128,128,128,0)));background-image:linear-gradient(180deg, white, rgba(255,255,255,0) 50%),linear-gradient(0deg, black, rgba(0,0,0,0) 50%),linear-gradient(90deg, gray, rgba(128,128,128,0))}.picker_alpha,.picker_sample{position:relative;background:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='2' height='2'%3E%3Cpath d='M1,0H0V1H2V2H1' fill='lightgrey'/%3E%3C/svg%3E\") left top/contain white;-webkit-box-shadow:0 0 0 1px silver;box-shadow:0 0 0 1px silver}.picker_alpha .picker_selector,.picker_sample .picker_selector{background:none}.picker_editor input{-webkit-box-sizing:border-box;box-sizing:border-box;font-family:monospace;padding:.1em .2em}.picker_sample::before{content:'';position:absolute;display:block;width:100%;height:100%;background:currentColor}.picker_done button{-webkit-box-sizing:border-box;box-sizing:border-box;padding:.2em .5em;cursor:pointer}.picker_arrow{position:absolute;z-index:-1}.picker_wrapper.popup{position:absolute;z-index:2;margin:1.5em}.picker_wrapper.popup,.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{background:#f2f2f2;-webkit-box-shadow:0 0 10px 1px rgba(0,0,0,0.4);box-shadow:0 0 10px 1px rgba(0,0,0,0.4)}.picker_wrapper.popup .picker_arrow{width:3em;height:3em;margin:0}.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{content:\"\";display:block;position:absolute;top:0;left:0;z-index:-99}.picker_wrapper.popup .picker_arrow::before{width:100%;height:100%;-webkit-transform:skew(45deg);transform:skew(45deg);-webkit-transform-origin:0 100%;transform-origin:0 100%}.picker_wrapper.popup .picker_arrow::after{width:150%;height:150%;-webkit-box-shadow:none;box-shadow:none}.popup.popup_top{bottom:100%;left:0}.popup.popup_top .picker_arrow{bottom:0;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.popup.popup_bottom{top:100%;left:0}.popup.popup_bottom .picker_arrow{top:0;left:0;-webkit-transform:rotate(90deg) scale(1, -1);transform:rotate(90deg) scale(1, -1)}.popup.popup_left{top:0;right:100%}.popup.popup_left .picker_arrow{top:0;right:0;-webkit-transform:scale(-1, 1);transform:scale(-1, 1)}.popup.popup_right{top:0;left:100%}.popup.popup_right .picker_arrow{top:0;left:0}`;\ndocument.documentElement.firstElementChild //<head>, or <body> if there is no <head>\n    .appendChild(_style);\n\n\nclass Picker {\n\n    //https://stackoverflow.com/questions/24214962/whats-the-proper-way-to-document-callbacks-with-jsdoc\n    /**\n     * A callback that gets the picker's current color value.\n     * \n     * @callback Picker~colorCallback\n     * @param {Object} color\n     * @param {number[]} color.rgba       - RGBA color components.\n     * @param {number[]} color.hsla       - HSLA color components (all values between 0 and 1, inclusive).\n     * @param {string}   color.rgbString  - RGB CSS value (e.g. `rgb(255,215,0)`).\n     * @param {string}   color.rgbaString - RGBA CSS value (e.g. `rgba(255,215,0, .5)`).\n     * @param {string}   color.hslString  - HSL CSS value (e.g. `hsl(50.6,100%,50%)`).\n     * @param {string}   color.hslaString - HSLA CSS value (e.g. `hsla(50.6,100%,50%, .5)`).\n     * @param {string}   color.hex        - 8 digit #RRGGBBAA (not supported in all browsers).\n     */\n\n    /**\n     * Create a color picker.\n     * \n     * @example\n     * var picker = new Picker(myParentElement);\n     * picker.onDone = function(color) {\n     *     myParentElement.style.backgroundColor = color.rgbaString;\n     * };\n     * \n     * @example\n     * var picker = new Picker({\n     *     parent: myParentElement,\n     *     color: 'gold',\n     *     onChange: function(color) {\n     *                   myParentElement.style.backgroundColor = color.rgbaString;\n     *               },\n     * });\n     * \n     * @param {Object} options - @see {@linkcode Picker#setOptions|setOptions()}\n     */\n    constructor(options) {\n\n        //Default settings\n        this.settings = {\n            //Allow creating a popup without putting it on screen yet.\n            //  parent: document.body,\n            popup: 'right',\n            layout: 'default',\n            alpha:  true,\n            editor: true,\n            editorFormat: 'hex',\n        };\n\n        //Keep openHandler() pluggable, but call it in the right context:\n        //https://stackoverflow.com/questions/46014034/es6-removeeventlistener-from-arrow-function-oop\n        this._openProxy  = (e) => this.openHandler(e);\n\n        /**\n         * Callback whenever the color changes.\n         * @member {Picker~colorCallback}\n         */\n        this.onChange = null;\n        /**\n         * Callback when the user clicks \"Ok\".\n         * @member {Picker~colorCallback}\n         */\n        this.onDone = null;\n        /**\n         * Callback when the popup opens.\n         * @member {Picker~colorCallback}\n         */\n        this.onOpen = null;\n        /**\n         * Callback when the popup closes.\n         * @member {Picker~colorCallback}\n         */\n        this.onClose = null;\n        \n        this.setOptions(options);\n    }\n\n\n    /**\n     * Set the picker options.\n     * \n     * @param {Object}       options\n     * @param {HTMLElement}  options.parent           - Which element the picker should be attached to.\n     * @param {('top'|'bottom'|'left'|'right'|false)}\n     *                       [options.popup=right]    - If the picker is used as a popup, where to place it relative to the parent. `false` to add the picker as a normal child element of the parent.\n     * @param {string}       [options.template]       - Custom HTML string from which to build the picker. See /src/picker.pug for required elements and class names.\n     * @param {string}       [options.layout=default] - Suffix of a custom \"layout_...\" CSS class to handle the overall arrangement of the picker elements.\n     * @param {boolean}      [options.alpha=true]     - Whether to enable adjusting the alpha channel.\n     * @param {boolean}      [options.editor=true]    - Whether to show a text field for color value editing.\n     * @param {('hex'|'hsl'|'rgb')}\n     *                       [options.editorFormat=hex] - How to display the selected color in the text field (the text field still supports *input* in any format).\n     * @param {string}       [options.color]          - Initial color for the picker.\n     * @param {function}     [options.onChange]       - @see {@linkcode Picker#onChange|onChange}\n     * @param {function}     [options.onDone]         - @see {@linkcode Picker#onDone|onDone}\n     * @param {function}     [options.onOpen]         - @see {@linkcode Picker#onOpen|onOpen}\n     * @param {function}     [options.onClose]        - @see {@linkcode Picker#onClose|onClose}\n     */\n    setOptions(options) {\n        if(!options) { return; }\n        const settings = this.settings;\n\n        function transfer(source, target, skipKeys) {\n            for (const key in source) {\n                if(skipKeys && (skipKeys.indexOf(key) >= 0)) { continue; }\n\n                target[key] = source[key];\n            }\n        }\n\n        if(options instanceof HTMLElement) {\n            settings.parent = options;\n        }\n        else {\n            //const skipKeys = [];\n            //\n            //if(options.popup instanceof Object) {\n            //    transfer(options.popup, settings.popup);\n            //    skipKeys.push('popup');\n            //}\n            \n            /* //TODO: options.layout -> Object\n            {\n                mode: 'hsla',       //'hsla', 'hasl', 'hsl'. Deprecate options.alpha\n                verticalHue: false,\n                verticalAlpha: true,\n                alphaOnSL: false,\n                editor: true,       //Deprecate options.editor\n                css: undefined,     //Same as old options.layout. Default from mode\n                //.template as well?\n            }\n            //*/\n            \n            //New parent?\n            if(settings.parent && options.parent && (settings.parent !== options.parent)) {\n                settings.parent.removeEventListener('click', this._openProxy, false);\n                this._popupInited = false;\n            }\n\n            transfer(options, settings/*, skipKeys*/);\n        \n            //Event callbacks. Hook these up before setColor() below,\n            //because we'll need to fire onChange() if there is a color in the options\n            if(options.onChange) { this.onChange = options.onChange; }\n            if(options.onDone)   { this.onDone   = options.onDone; }\n            if(options.onOpen)   { this.onOpen   = options.onOpen; }\n            if(options.onClose)  { this.onClose  = options.onClose; }\n        \n            //Note: Look for color in 'options', as a color value in 'settings' may be an old one we don't want to revert to.\n            const col = options.color || options.colour;\n            if(col) { this._setColor(col); }\n        }\n        \n        //Init popup behavior once we have all the parts we need:\n        const parent = settings.parent;\n        if(parent && settings.popup && !this._popupInited) {\n\n            addEvent(parent, 'click', this._openProxy);\n\n            //Keyboard navigation: Open on [Space] or [Enter] (but stop the event to avoid typing a \" \" in the editor textbox).\n            //No, don't stop the event, as that would disable normal input behavior (typing a \" \" or clicking the Ok button with [Enter]).\n            //Fix: setTimeout() in openHandler()..\n            //\n            //https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key/Key_Values#Whitespace_keys\n            onKey(parent, [' ', 'Spacebar', 'Enter'], this._openProxy/*, true*/);\n            \n            //This must wait until we have created our DOM..\n            //  addEvent(window, 'mousedown', (e) => this.closeHandler(e));\n            //  addEvent(this._domOkay, 'click', (e) => this.closeHandler(e));\n\n            this._popupInited = true;\n        }\n        else if(options.parent && !settings.popup) {\n            this.show();\n        }\n    }\n\n\n    /**\n     * Default behavior for opening the popup\n     */\n    openHandler(e) {\n        if(this.show()) {\n            //If the parent is an <a href=\"#\"> element, avoid scrolling to the top:\n            e && e.preventDefault();\n            \n            //A trick to avoid re-opening the dialog if you click the parent element while the dialog is open:\n            this.settings.parent.style.pointerEvents = 'none';\n\n            //Recommended popup behavior with keyboard navigation from http://whatsock.com/tsg/Coding%20Arena/Popups/Popup%20(Internal%20Content)/demo.htm\n            //Wait a little before focusing the textbox, in case the dialog was just opened with [Space] (would overwrite the color value with a \" \"):\n            const toFocus = (e && (e.type === EVENT_KEY)) ? this._domEdit : this.domElement;\n            setTimeout(() => toFocus.focus(), 100);\n\n            if(this.onOpen) { this.onOpen(this.colour); }\n        }\n    }\n\n\n    /**\n     * Default behavior for closing the popup\n     */\n    closeHandler(e) {\n        const event = e && e.type;\n        let doHide = false;\n\n        //Close programmatically:\n        if(!e) {\n            doHide = true;\n        }\n        //Close by clicking/tabbing outside the popup:\n        else if((event === EVENT_CLICK_OUTSIDE) || (event === EVENT_TAB_MOVE)) {\n\n            //See comments in `_bindEvents()`.\n            //Undesirable behavior in Firefox though: When clicking (mousedown) the [Ok] button or the textbox,\n            //a `focusout` is raised on `picker_wrapper`, followed by a `focusin` on the parent (if it is focusable).\n            //To keep that new event from closing the popup, we add 100ms to our time control:\n            const knownTime = (this.__containedEvent || 0) + 100;\n            if(e.timeStamp > knownTime) {\n                doHide = true;\n            }\n        }\n        //Close by mouse/touch or key events:\n        else {\n            //Don't bubble [Ok] clicks or [Enter] keys up to the parent, because that's the trigger to re-open the popup.\n            stopEvent(e);\n\n            doHide = true;\n        }\n\n        if(doHide && this.hide()) {\n            this.settings.parent.style.pointerEvents = '';\n\n            //Recommended popup behavior from http://whatsock.com/tsg/Coding%20Arena/Popups/Popup%20(Internal%20Content)/demo.htm\n            //However, we don't re-focus the parent if the user closes the popup by clicking somewhere else on the screen,\n            //because they may have scrolled to a different part of the page by then, and focusing would then inadvertently scroll the parent back into view:\n            if(event !== EVENT_CLICK_OUTSIDE) {\n                this.settings.parent.focus();\n            }\n\n            if(this.onClose) { this.onClose(this.colour); }\n        }\n    }\n\n\n    /**\n     * Move the popup to a different parent, optionally opening it at the same time.\n     *\n     * @param {Object}  options - @see {@linkcode Picker#setOptions|setOptions()} (Usually a new `.parent` and `.color`).\n     * @param {boolean} open    - Whether to open the popup immediately.\n     */\n    movePopup(options, open) {\n        //Cleanup if the popup is currently open (at least revert the current parent's .pointerEvents);\n        this.closeHandler();\n        \n        this.setOptions(options);\n        if(open) {\n            this.openHandler();\n        }\n    }\n\n\n    /**\n     * Set/initialize the picker's color.\n     * \n     * @param {string}  color  - Color name, RGBA/HSLA/HEX string, or RGBA array.\n     * @param {boolean} silent - If true, won't trigger onChange.\n     */\n    setColor(color, silent) {\n        this._setColor(color, { silent: silent });\n    }\n    _setColor(color, flags) {\n        if(typeof color === 'string') { color = color.trim(); }\n        if (!color) { return; }\n\n        flags = flags || {};\n        let c;\n        try {\n            //Will throw on unknown colors:\n            c = new Color(color);\n        }\n        catch (ex) {\n            if(flags.failSilently) { return; }\n            throw ex;\n        }\n\n        if(!this.settings.alpha) {\n            const hsla = c.hsla;\n            hsla[3] = 1;\n            c.hsla = hsla;\n        }\n        this.colour = this.color = c;\n        this._setHSLA(null, null, null, null, flags);\n    }\n    /**\n     * @see {@linkcode Picker#setColor|setColor()}\n     */\n    setColour(colour, silent) {\n        this.setColor(colour, silent);\n    }\n\n\n    /**\n     * Show/open the picker.\n     */\n    show() {\n        const parent = this.settings.parent;\n        if(!parent) { return false; }\n        \n        //Unhide html if it exists\n        if(this.domElement) {\n            const toggled = this._toggleDOM(true);\n\n            //Things could have changed through setOptions():\n            this._setPosition();\n\n            return toggled;\n        }\n\n        const html = this.settings.template || `<div class=\"picker_wrapper\" tabindex=\"-1\"><div class=\"picker_arrow\"></div><div class=\"picker_hue picker_slider\"><div class=\"picker_selector\"></div></div><div class=\"picker_sl\"><div class=\"picker_selector\"></div></div><div class=\"picker_alpha picker_slider\"><div class=\"picker_selector\"></div></div><div class=\"picker_editor\"><input aria-label=\"Type a color name or hex value\"/></div><div class=\"picker_sample\"></div><div class=\"picker_done\"><button>Ok</button></div></div>`;\n        const wrapper = parseHTML(html);\n        \n        this.domElement = wrapper;\n        this._domH      = $('.picker_hue', wrapper);\n        this._domSL     = $('.picker_sl', wrapper);\n        this._domA      = $('.picker_alpha', wrapper);\n        this._domEdit   = $('.picker_editor input', wrapper);\n        this._domSample = $('.picker_sample', wrapper);\n        this._domOkay   = $('.picker_done button', wrapper);\n\n        wrapper.classList.add('layout_' + this.settings.layout);\n        if(!this.settings.alpha) { wrapper.classList.add('no_alpha'); }\n        if(!this.settings.editor) { wrapper.classList.add('no_editor'); }\n        this._ifPopup(() => wrapper.classList.add('popup'));\n        \n        this._setPosition();\n\n\n        if(this.colour) {\n            this._updateUI();\n        }\n        else {\n            this._setColor('#0cf');\n        }\n        this._bindEvents();\n        \n        return true;\n    }\n\n\n    /**\n     * Hide the picker.\n     */\n    hide() {\n        return this._toggleDOM(false);\n    }\n\n\n    /*\n     * Handle user input.\n     * \n     * @private\n     */\n    _bindEvents() {\n        const that = this,\n              dom = this.domElement;\n        \n        //Prevent clicks while dragging from bubbling up to the parent:\n        addEvent(dom, 'click', e => e.preventDefault());\n\n\n        /* Draggable color selection */\n\n        function createDragConfig(container, callbackRelative) {\n\n            //Convert the px coordinates to relative coordinates (0-1) before invoking the callback:\n            function relayDrag(_, pos) {\n                const relX = pos[0]/container.clientWidth,\n                      relY = pos[1]/container.clientHeight;\n                callbackRelative(relX, relY);\n            }\n\n            const config = {\n                container:     container,\n                dragOutside:   false,\n                callback:      relayDrag,\n                //Respond at once (mousedown), don't wait for click or drag:\n                callbackDragStart: relayDrag,\n                //When interacting with a picker, this allows other open picker popups to close:\n                propagateEvents: true,\n            };\n            return config;\n        }\n\n        //Select hue\n        dragTracker(createDragConfig(this._domH,  (x, y) => that._setHSLA(x)));\n\n        //Select saturation/lightness\n        dragTracker(createDragConfig(this._domSL, (x, y) => that._setHSLA(null, x, 1 - y)));\n\n        //Select alpha\n        if(this.settings.alpha) {\n            dragTracker(createDragConfig(this._domA,  (x, y) => that._setHSLA(null, null, null, 1 - y)));\n        }\n        \n        \n        /* Direct color value editing */\n\n        //Always init the editor, for accessibility and screen readers (we'll hide it with CSS if `!settings.editor`)\n        const editInput = this._domEdit;\n        /*if(this.settings.editor)*/ {\n            addEvent(editInput, 'input', function(e) {\n                that._setColor(this.value, { fromEditor: true, failSilently: true });\n            });\n            //Select all text on focus:\n            addEvent(editInput, 'focus', function(e) {\n                const input = this;\n                //If no current selection:\n                if(input.selectionStart === input.selectionEnd) {\n                    input.select();\n                }\n            });\n        }\n\n\n        /* Close the dialog */\n\n        //onClose:\n        this._ifPopup(() => {\n            //Keep closeHandler() pluggable, but call it in the right context:\n            const popupCloseProxy = (e) => this.closeHandler(e);\n\n            addEvent(window, EVENT_CLICK_OUTSIDE, popupCloseProxy);\n            addEvent(window, EVENT_TAB_MOVE,      popupCloseProxy);\n            onKey(   dom,    ['Esc', 'Escape'],   popupCloseProxy);\n\n            //Above, we added events on `window` to close the popup if the user clicks outside or tabs away from the picker.\n            //Now, we must make sure that clicks and tabs within the picker don't cause the popup to close.\n            //Things we have tried:\n            //  * Check `e.target` in `closeHandler()` and see if it's a child element of the picker.\n            //      - That won't work if used in a shadow DOM, where the original `target` isn't available once the event reaches `window` (issue #15).\n            //  * Stop the events from propagating past the popup element (using `e.stopPropagation()`).\n            //      - ..but stopping mouse events interferes with text selection in the editor.\n            //\n            //So, next attempt: Note the `timeStamp` of the contained event, and check it in `closeHandler()`.\n            //That should be a unique identifier of the event, and the time seems to be preserved when retargeting shadow DOM events:\n            const timeKeeper = (e) => {\n                this.__containedEvent = e.timeStamp;\n            }\n            addEvent(dom, EVENT_CLICK_OUTSIDE, timeKeeper);\n            //Note: Now that we have added the 'focusin' event, this trick requires the picker wrapper to be focusable (via `tabindex` - see /src/picker.pug),\n            //or else the popup loses focus if you click anywhere on the picker's background.\n            addEvent(dom, EVENT_TAB_MOVE,      timeKeeper);\n        });\n\n        //onDone:\n        const onDoneProxy = (e) => {\n            this._ifPopup(() => this.closeHandler(e));\n            if(this.onDone) { this.onDone(this.colour); }\n        };\n        addEvent(this._domOkay, 'click',   onDoneProxy);\n        onKey(   dom,           ['Enter'], onDoneProxy);\n    }\n\n\n    /*\n     * Position the picker on screen.\n     * \n     * @private\n     */\n    _setPosition() {\n        const parent = this.settings.parent,\n              elm = this.domElement;\n\n        if(parent !== elm.parentNode) { parent.appendChild(elm); }\n\n        this._ifPopup((popup) => {\n\n            //Allow for absolute positioning of the picker popup:\n            if(getComputedStyle(parent).position === 'static') {\n                parent.style.position = 'relative';\n            }\n\n            const cssClass = (popup === true) ? 'popup_right' : 'popup_' + popup;\n\n            ['popup_top', 'popup_bottom', 'popup_left', 'popup_right'].forEach(c => {\n                //Because IE doesn't support .classList.toggle()'s second argument...\n                if(c === cssClass) {\n                    elm.classList.add(c);\n                }\n                else {\n                    elm.classList.remove(c);\n                }\n            });\n\n            //Allow for custom placement via CSS:\n            elm.classList.add(cssClass);\n        });\n    }\n\n\n    /*\n     * \"Hub\" for all color changes\n     * \n     * @private\n     */\n    _setHSLA(h, s, l, a,  flags) {\n        flags = flags || {};\n\n        const col = this.colour,\n              hsla = col.hsla;\n\n        [h, s, l, a].forEach((x, i) => {\n            if(x || (x === 0)) { hsla[i] = x; }\n        });\n        col.hsla = hsla;\n\n        this._updateUI(flags);\n\n        if(this.onChange && !flags.silent) { this.onChange(col); }\n    }\n\n    _updateUI(flags) {\n        if(!this.domElement) { return; }\n        flags = flags || {};\n\n        const col = this.colour,\n              hsl = col.hsla,\n              cssHue  = `hsl(${hsl[0] * HUES}, 100%, 50%)`,\n              cssHSL  = col.hslString,\n              cssHSLA = col.hslaString;\n\n        const uiH  = this._domH,\n              uiSL = this._domSL,\n              uiA  = this._domA,\n              thumbH  = $('.picker_selector', uiH),\n              thumbSL = $('.picker_selector', uiSL),\n              thumbA  = $('.picker_selector', uiA);\n        \n        function posX(parent, child, relX) {\n            child.style.left = (relX * 100) + '%'; //(parent.clientWidth * relX) + 'px';\n        }\n        function posY(parent, child, relY) {\n            child.style.top  = (relY * 100) + '%'; //(parent.clientHeight * relY) + 'px';\n        }\n\n\n        /* Hue */\n        \n        posX(uiH, thumbH, hsl[0]);\n        \n        //Use the fully saturated hue on the SL panel and Hue thumb:\n        this._domSL.style.backgroundColor = this._domH.style.color = cssHue;\n\n\n        /* S/L */\n        \n        posX(uiSL, thumbSL, hsl[1]);\n        posY(uiSL, thumbSL, 1 - hsl[2]);\n        \n        //Use the opaque HSL on the SL thumb:\n        uiSL.style.color = cssHSL;\n\n\n        /* Alpha */\n        \n        posY(uiA,  thumbA,  1 - hsl[3]);\n\n        const opaque = cssHSL,\n              transp = opaque.replace('hsl', 'hsla').replace(')', ', 0)'),\n              bg = `linear-gradient(${[opaque, transp]})`;\n\n        //Let the Alpha slider fade from opaque to transparent:\n        this._domA.style.backgroundImage = bg + ', ' + BG_TRANSP;\n\n\n        /* Editable value */\n        \n        //Don't update the editor if the user is typing.\n        //That creates too much noise because of our auto-expansion of 3/4/6 -> 8 digit hex codes.\n        if(!flags.fromEditor) {\n            const format = this.settings.editorFormat,\n                  alpha = this.settings.alpha;\n\n            let value;\n            switch (format) {\n                case 'rgb': value = col.printRGB(alpha); break;\n                case 'hsl': value = col.printHSL(alpha); break;\n                default:    value = col.printHex(alpha);\n            }\n            this._domEdit.value = value;\n        }\n\n\n        /* Sample swatch */\n        \n        this._domSample.style.color = cssHSLA;\n    }\n    \n    \n    _ifPopup(actionIf, actionElse) {\n        if(this.settings.parent && this.settings.popup) {\n            actionIf && actionIf(this.settings.popup);\n        }\n        else {\n            actionElse && actionElse();\n        }\n    }\n\n\n    _toggleDOM(toVisible) {\n        const dom = this.domElement;\n        if(!dom) { return false; }\n\n        const displayStyle = toVisible ? '' : 'none',\n              toggle = (dom.style.display !== displayStyle);\n        \n        if(toggle) { dom.style.display = displayStyle; }\n        return toggle;\n    }\n\n\n/*\n    //Feature: settings to flip hue & alpha 90deg (i.e. vertical or horizontal mode)\n    \n    \n        function createDragConfig(container, callbackRelative) {\nconst flipped = true;\n\n            function capRel(val) {\n                return (val < 0) ? 0\n                                 : (val > 1) ? 1 : val;\n            }\n\n            //Convert the px coordinates to relative coordinates (0-1) before invoking the callback:\n            function relayDrag(_, pos) {\n                const w = container.clientWidth,\n                      h = container.clientHeight;\n                      \n                const relX = pos[0]/(flipped ? h : w),\n                      relY = pos[1]/(flipped ? w : h);\n                      \n                callbackRelative(capRel(relX), capRel(relY));\n            }\n\n            const config = {\n                container:     container,\n                //dragOutside:   false,\n                callback:      relayDrag,\n                //Respond at once (mousedown), don't wait for click or drag:\n                callbackDragStart: relayDrag,\n            };\n            return config;\n        }\n*/\n\n    /**\n     * The inlined `<style>` element for picker CSS.\n     */\n    static get StyleElement() {\n        return _style;\n    }\n}\n\n\nexport default Picker;\n","/* eslint-disable array-callback-return */\n/* eslint-disable prefer-template */\n/* eslint-disable no-shadow */\n/* eslint-disable no-param-reassign */\n/* eslint-disable prefer-destructuring */\nimport Picker from 'vanilla-picker';\n\nexport default class AppView {\n  constructor() {\n    this.canvas = document.querySelector('#canvas-main');\n    this.toolbarBasic = document.querySelector('#container-tools');\n    this.toolbartransform = document.querySelector('#containers-transform');\n    this.toolbarPenSize = document.querySelector('.container-pen-size');\n    this.toolbarCanvasSize = document.body.querySelector('#container-screen-size');\n    this.toolbarColorInput = document.querySelector('.container-color-input');\n    this.picker1 = new Picker({ parent: document.querySelector('#color-input1'), popup: 'top' });\n    this.picker2 = new Picker({ parent: document.querySelector('#color-input2'), popup: 'top' });\n    this.frameContainer = document.body.querySelector('.container-frames');\n    this.previewContainer = document.body.querySelector('.container-preview-canvas');\n    this.currentFrame = null;\n    this.activeTool = 'pen';\n    this.selectedColor = '';\n    this.penSize = 4;\n  }\n\n  defineColortoPicker() {\n    this.selectedColor = '#000000';\n    document.querySelector('#color-input1').style.backgroundColor = '#000000';\n    document.querySelector('#color-input2').style.backgroundColor = '#00FFFF00';\n  }\n\n  renderFrame() {\n    const { canvas } = this;\n    canvas.toBlob((blob) => {\n      const newImg = document.createElement('img');\n      const url = URL.createObjectURL(blob);\n      newImg.src = url;\n      // check which frame is active\n      const index = parseInt(document.body.querySelector('.frame-item.active').id, 10);\n      const canvasFrame = document.querySelector(`#canvas${index}`);\n      const canvasPreview = document.body.querySelector('#canvas-preview');\n\n      if (canvasFrame.getContext && canvasPreview.getContext) {\n        const ctx = canvasFrame.getContext('2d');\n        const ctxPreview = canvasPreview.getContext('2d');\n        ctx.clearRect(0, 0, canvasFrame.width, canvasFrame.height);\n        ctxPreview.clearRect(0, 0, canvasPreview.width, canvasPreview.height);\n        newImg.onload = () => {\n          ctx.drawImage(newImg, 0, 0, canvasFrame.clientWidth, canvasFrame.clientHeight);\n          ctxPreview.drawImage(newImg, 0, 0, canvasPreview.clientWidth, canvasPreview.clientHeight);\n        };\n      }\n    });\n  }\n\n  // renderUpdatedCanvasSize(canvasSizeOld, model) {\n  //   const { canvas } = this;\n  //   const oldWidth = canvasSizeOld.width;\n  //   // const oldHeight = canvasSizeOld.height;\n  //   const newWidth = model.width;\n  //   // const newHeight = model.height;\n  //   const frame = model.getFrame(model.activeFrame);\n  //   let canvasDrawWidth;\n  //   // let canvasDrawHeight;\n  //   let imageDrawWidth;\n  //   // let imageDrawHeight;\n\n  //   if (oldWidth < newWidth) {\n  //     canvasDrawWidth = Math.round(canvas.width * oldWidth / newWidth);\n  //     imageDrawWidth = canvas.width;\n  //   } else {\n  //     canvasDrawWidth = canvas.width;\n  //     imageDrawWidth = Math.round(canvas.width * newWidth / oldWidth);\n  //   }\n  //   // console.log('canvasDrawWidth', canvasDrawWidth);\n  //   // console.log('imageDrawWidth', imageDrawWidth);\n  //   if (canvas.getContext) {\n  //     const ctx = canvas.getContext('2d');\n  //     ctx.clearRect(0, 0, canvas.width, canvas.height);\n  //     if (frame.img) {\n  //       const newImg = document.createElement('img');\n  //       newImg.src = frame.img.src;\n  //       newImg.onload = () => {\n  //         // no longer need to read the blob so it's revoke\n  //         // ctx.drawImage(image, sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight);\n  //         ctx.drawImage(newImg, 0, 0, imageDrawWidth, imageDrawWidth,\n  //           0, 0, canvasDrawWidth, canvasDrawWidth);\n  //       };\n  //     }\n  //   }\n  // }\n\n  getCurrentImg() {\n    const { canvas } = this;\n    const newImg = document.createElement('img');\n    let url;\n    canvas.toBlob((blob) => {\n      url = URL.createObjectURL(blob);\n      newImg.src = url;\n    });\n    return newImg;\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  highlightButton(button) {\n    const buttons = this.toolbarBasic.querySelectorAll('.button-item');\n    if (Array.from(buttons).includes(button)) {\n      Array.from(buttons).forEach((btn) => {\n        btn.classList.remove('active');\n      });\n      button.classList.add('active');\n    }\n  }\n\n  highlightPenSize(penSize) {\n    const divs = this.toolbarPenSize.querySelectorAll('.pen-size-option');\n\n    Array.from(divs).forEach((el) => {\n      el.classList.remove('selected');\n    });\n    this.toolbarPenSize.querySelector(`[data-size=\"${penSize}\"]`).classList.add('selected');\n  }\n\n  highlightCanvasSize(size) {\n    const btns = this.toolbarCanvasSize.querySelectorAll('.screen-size');\n\n    Array.from(btns).forEach((el) => {\n      el.classList.remove('selected');\n    });\n    this.toolbarCanvasSize.querySelector(`#${size}`).classList.add('selected');\n  }\n\n  drawWithPen() {\n    const { canvas } = this;\n    const context = canvas.getContext('2d');\n    context.fillStyle = document.querySelector('.color-input.active').style.background;\n    context.lineWidth = this.penSize * 10;\n    const renderFrame = this.renderFrame.bind(this);\n    let { penSize } = this;\n    const mouse = { x: 0, y: 0 };\n    let draw = false;\n\n    function handlerDrawWithPenMouseMove(e) {\n      const canvasSize = document.querySelector('.button-item.screen-size.selected').id.slice(4);\n      const width = Math.ceil(penSize * canvas.width / canvasSize);\n      const height = Math.ceil(penSize * canvas.height / canvasSize);\n      if (draw === true) {\n        if (document.querySelector('.button-item.active').classList.contains('pen')) {\n          context.fillRect(mouse.x, mouse.y, width, height);\n        } else if (document.querySelector('.button-item.active').classList.contains('eraser')) {\n          // context.globalCompositeOperation = 'destination-out';\n          context.clearRect(mouse.x, mouse.y, width, height);\n          // context.globalCompositeOperation = 'source-over';\n        }\n        mouse.x = e.pageX - canvas.offsetLeft;\n        mouse.y = e.pageY - canvas.offsetTop;\n      }\n    }\n\n    function handlerDrawWithPenMouseUp() {\n      if (draw) renderFrame();\n      draw = false;\n    }\n\n    function handleMouseOut() {\n      if (draw) renderFrame();\n      draw = false;\n    }\n\n    function handlerDrawWithPenMouseDown(e) {\n      //  button pressed  pensize\n      const canvasSize = document.querySelector('.button-item.screen-size.selected').id.slice(4);\n      const width = Math.ceil(penSize * canvas.width / canvasSize);\n      const height = Math.ceil(penSize * canvas.height / canvasSize);\n      context.fillStyle = document.querySelector('.color-input.active').style.background;\n      penSize = document.querySelector('.pen-size-option.selected').getAttribute('data-size').valueOf();\n      mouse.x = e.pageX - canvas.offsetLeft;\n      mouse.y = e.pageY - canvas.offsetTop;\n      draw = true;\n      if (document.querySelector('.button-item.active').classList.contains('pen')) {\n        context.fillRect(mouse.x, mouse.y, width, height);\n      } else if (document.querySelector('.button-item.active').classList.contains('eraser')) {\n        // context.globalCompositeOperation = 'destination-out';\n        context.clearRect(mouse.x, mouse.y, width, height);\n        // context.globalCompositeOperation = 'source-over';\n      } else {\n        canvas.removeEventListener('mousedown', handlerDrawWithPenMouseDown);\n        canvas.removeEventListener('mousemove', handlerDrawWithPenMouseMove);\n        canvas.removeEventListener('mouseup', handlerDrawWithPenMouseUp);\n        canvas.removeEventListener('mouseout', handleMouseOut);\n      }\n    }\n    canvas.addEventListener('mousedown', handlerDrawWithPenMouseDown);\n    canvas.addEventListener('mousemove', handlerDrawWithPenMouseMove);\n    canvas.addEventListener('mouseup', handlerDrawWithPenMouseUp);\n    canvas.addEventListener('mouseout', handleMouseOut);\n  }\n\n  drawWithPaintBucket(e) {\n    if (this.activeTool !== 'paint-bucket') return;\n    if (e.target !== this.canvas) {\n      return;\n    }\n    const { canvas } = this;\n    const ctx = canvas.getContext('2d');\n    const mouse = { x: 0, y: 0 };\n    mouse.x = Math.ceil(e.pageX - canvas.offsetLeft);\n    mouse.y = Math.ceil(e.pageY - canvas.offsetTop);\n\n\n    let color = 0xff0000ff;\n\n    color = AppView.convertColor(this.selectedColor);\n    function getPixel(pixelData, x, y) {\n      if (x < 0 || y < 0 || x >= pixelData.width || y >= pixelData.height) {\n        return -1; // impossible color\n      }\n      return pixelData.data[y * pixelData.width + x];\n    }\n\n    function floodFill(ctx, x, y, fillColor) {\n      // read the pixels in the canvas\n      const imageData = ctx.getImageData(0, 0, ctx.canvas.width, ctx.canvas.height);\n\n      // make a Uint32Array view on the pixels so we can manipulate pixels\n      // one 32bit value at a time instead of as 4 bytes per pixel\n      const pixelData = {\n        width: imageData.width,\n        height: imageData.height,\n        data: new Uint32Array(imageData.data.buffer),\n      };\n\n      // get the color we're filling\n      const targetColor = getPixel(pixelData, x, y);\n\n      // check we are actually filling a different color\n      if (targetColor !== fillColor) {\n        const pixelsToCheck = [x, y];\n        while (pixelsToCheck.length > 0) {\n          const y = pixelsToCheck.pop();\n          const x = pixelsToCheck.pop();\n\n          const currentColor = getPixel(pixelData, x, y);\n          if (currentColor === targetColor) {\n            pixelData.data[y * pixelData.width + x] = fillColor;\n            pixelsToCheck.push(x + 1, y);\n            pixelsToCheck.push(x - 1, y);\n            pixelsToCheck.push(x, y + 1);\n            pixelsToCheck.push(x, y - 1);\n          }\n        }\n\n        // put the data back\n        ctx.putImageData(imageData, 0, 0);\n      }\n    }\n    floodFill(ctx, mouse.x, mouse.y, color);// 0xff0000ff\n    this.renderFrame();\n  }\n\n  static convertColor(color) {\n    let r = '00';\n    let g = '00';\n    let b = '00';\n    let a = 'ff';\n    if (color.indexOf('#') !== -1) {\n      if (color.length === 4) {\n        r = '' + color[1] + color[1];\n        g = '' + color[2] + color[2];\n        b = '' + color[3] + color[3];\n      } if (color.length === 7) {\n        r = '' + color[1] + color[2];\n        g = '' + color[3] + color[4];\n        b = '' + color[5] + color[6];\n      } if (color.length === 9) {\n        r = '' + color[1] + color[2];\n        g = '' + color[3] + color[4];\n        b = '' + color[5] + color[6];\n        a = '' + color[7] + color[8];\n      }\n    }\n    if (color.indexOf('rgba') !== -1) {\n      //  \n      const arr = color.slice(5, -1).split(',');\n\n      r = (+arr[0]).toString(16);\n      g = (+arr[1]).toString(16);\n      b = (+arr[2]).toString(16);\n      a = Math.round(arr[3] * 255).toString(16);\n\n      return parseInt('0x' + a + b + g + r, 16);\n    } if (color.indexOf('rgb') !== -1) {\n      const arr = color.slice(4, -1).split(',');\n      r = (+arr[0]).toString(16);\n      g = (+arr[1]).toString(16);\n      b = (+arr[2]).toString(16);\n      a = Math.round(255).toString(16);\n      if (r.length === 1) r = '0' + r;\n\n      if (g.length === 1) g = '0' + g;\n\n      if (b.length === 1) b = '0' + b;\n\n      if (a.length === 1) a = '0' + a;\n    }\n    return parseInt('0x' + a + b + g + r, 16);\n  }\n\n  pickColorWithColorPicker(e) {\n    if (this.activeTool !== 'color-picker') return;\n\n    const { canvas } = this;\n    const ctx = canvas.getContext('2d');\n    const mouse = { x: 0, y: 0 };\n    mouse.x = Math.ceil(e.pageX - canvas.offsetLeft);\n    mouse.y = Math.ceil(e.pageY - canvas.offsetTop);\n    const pixelData = ctx.getImageData(mouse.x, mouse.y, 1, 1).data;\n    if ((pixelData[0] === 0) && (pixelData[1] === 0) && (pixelData[2] === 0)\n      && (pixelData[3] === 0)) {\n      // Do something if the pixel is transparent\n      this.picker1.setColor('#00FFFF00', true);\n      // document.querySelector('#color-input1').style.background = '#00FFFF00';\n      document.querySelector('#color-input1').style.background = 'url(\"https://i.imgur.com/JFVR2Q1.png\")';\n      return;\n    }\n    function rgbToHex(r, g, b) {\n      // eslint-disable-next-line no-bitwise\n      return ((r << 16) | (g << 8) | b).toString(16);\n    }\n    // Convert it to HEX if you want using the rgbToHex method.\n    const hex = '#' + ('000000' + rgbToHex(pixelData[0], pixelData[1], pixelData[2])).slice(-6);\n    this.picker1.setColor(hex, true);\n    document.querySelector('#color-input1').style.backgroundImage = 'none';\n    document.querySelector('#color-input1').style.background = hex;\n  }\n\n  drawRectangle() {\n    const { canvas } = this;\n    const ctx = canvas.getContext('2d');\n    const renderFrame = this.renderFrame.bind(this);\n    const canvasx = canvas.offsetLeft;\n    const canvasy = canvas.offsetTop;\n    let lastMousex = 0;\n    let lastMousey = 0;\n    let mousex = 0;\n    let mousey = 0;\n    let mousedown = false;\n\n    function drawEllipse(x1, y1, x2, y2) {\n      const radiusX = (x2 - x1) * 0.5; // radius for x based on input\n      const radiusY = (y2 - y1) * 0.5; // radius for y based on input\n      const centerX = x1 + radiusX; // calc center\n      const centerY = y1 + radiusY;\n      const step = 0.01; // resolution of ellipse\n      let a = step; // counter\n      const pi2 = Math.PI * 2 - step; // end angle\n\n      // start a new path\n      ctx.beginPath();\n\n      // set start point at angle 0\n      ctx.moveTo(centerX + radiusX * Math.cos(0),\n        centerY + radiusY * Math.sin(0));\n\n      // create the ellipse\n      for (; a < pi2; a += step) {\n        ctx.lineTo(centerX + radiusX * Math.cos(a),\n          centerY + radiusY * Math.sin(a));\n      }\n\n      // close it and stroke it for demo\n      ctx.closePath();\n      ctx.stroke();\n    }\n    // Mousedown\n    function handlerDrawRectMouseDown(e) {\n      lastMousex = parseInt(e.clientX - canvasx, 10);\n      lastMousey = parseInt(e.clientY - canvasy, 10);\n      mousedown = true;\n      document.body.style.cursor = 'crosshair';\n    }\n    // Mouseup\n    function handlerDrawRectMouseUp(e) {\n      if (mousedown) {\n        mousex = parseInt(e.clientX - canvasx, 10);\n        mousey = parseInt(e.clientY - canvasy, 10);\n        const width = mousex - lastMousex;\n        const height = mousey - lastMousey;\n        const canvasSize = document.querySelector('.button-item.screen-size.selected').id.slice(4);\n        const penSize = document.querySelector('.pen-size-option.selected').getAttribute('data-size').valueOf();\n        ctx.strokeStyle = document.querySelector('.color-input.active').style.background;\n        ctx.lineWidth = Math.ceil(penSize * canvas.width / canvasSize);\n        if (document.querySelector('.button-item.active').classList.contains('rectangle-tool')) {\n          ctx.strokeRect(lastMousex, lastMousey, width, height);\n        }\n        if (document.querySelector('.button-item.active').classList.contains('circle-tool')) {\n          drawEllipse(mousex, mousey, lastMousex, lastMousey);\n        }\n        if (!document.querySelector('.button-item.active').classList.contains('rectangle-tool')\n          && !document.querySelector('.button-item.active').classList.contains('circle-tool')) {\n          canvas.removeEventListener('mousedown', handlerDrawRectMouseDown);\n          canvas.removeEventListener('mouseup', handlerDrawRectMouseUp);\n          document.body.style.cursor = 'default';\n        }\n        renderFrame();\n      }\n      mousedown = false;\n    }\n\n    canvas.addEventListener('mousedown', handlerDrawRectMouseDown);\n    canvas.addEventListener('mouseup', handlerDrawRectMouseUp);\n  }\n}\n","import App from './controllers/App';\n\nconst app = new App();\napp.loadDataFromLocalStorage();\napp.start();\n","\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!./styles.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js!./styles.css\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js!./styles.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Imports\nvar urlEscape = require(\"../../../node_modules/css-loader/dist/runtime/url-escape.js\");\nvar ___CSS_LOADER_URL___0___ = urlEscape(require(\"./images/icons.png\"));\nvar ___CSS_LOADER_URL___1___ = urlEscape(require(\"./images/pattern.png\"));\n\n// Module\nexports.push([module.id, \".container-body {\\n  position: relative;\\n  width: 100%;\\n  height: 100vh;\\n  font-family: \\\"Roboto\\\", sans-serif;\\n  font-size: 16px;\\n  display: grid;\\n  grid-template-areas: \\\"header header header header header\\\" \\\"buttons  frame canvas preview tool\\\";\\n  grid-template-rows: 0.8fr 13fr;\\n  background-color: #ebe8e8;\\n  overflow: hidden;\\n  user-select: none;\\n}\\n\\n.header {\\n  grid-area: header;\\n  color: black;\\n  height: 60px;\\n  background: #cacaca;\\n  padding: 5px;\\n}\\n\\nh1 {\\n  display: inline-block;\\n  font-family: \\\"Keania One\\\", cursive;\\n  text-transform: uppercase;\\n  font-size: 2rem;\\n  margin-left: 30px;\\n}\\n\\n.container-buttons {\\n  margin-top: 100px;\\n  grid-area: buttons;\\n  width: 100px;\\n  display: flex;\\n  flex-wrap: wrap;\\n  justify-content: space-between;\\n  align-content: flex-start;\\n  margin-left: 20px;\\n  user-select: none;\\n}\\n\\n.container-pen-size {\\n  width: 100px;\\n  height: 30px;\\n  display: flex;\\n  justify-content: space-evenly;\\n  /*align-items: center;*/\\n}\\n\\n.pen-size-option {\\n  display: inline-block;\\n  box-sizing: border-box;\\n  width: 20px;\\n  height: 20px;\\n  border: 2px solid gray;\\n}\\n\\n.pen-size-option[data-size=\\\"1\\\"] {\\n  padding: 4px;\\n}\\n\\n.pen-size-option[data-size=\\\"2\\\"] {\\n  padding: 3px;\\n}\\n\\n.pen-size-option[data-size=\\\"3\\\"] {\\n  padding: 2px;\\n}\\n\\n.pen-size-option[data-size=\\\"4\\\"] {\\n  padding: 1px;\\n}\\n\\n.pen-size-option.selected, .screen-size.selected {\\n  /*.pen-size-option*/\\n  border-color: magenta;\\n}\\n\\n.selected:hover {\\n  border-color: magenta;\\n}\\n\\n.pen-size {\\n  width: 100%;\\n  height: 100%;\\n  background: #000;\\n}\\n\\n.pen-size-option:hover {\\n  cursor: pointer;\\n  border: 2px solid #a9a9a9;\\n}\\n\\n.container-color {\\n  grid-area: colors;\\n  display: flex;\\n  width: 300px;\\n}\\n\\n.button-item {\\n  display: inline-block;\\n  box-sizing: border-box;\\n  width: 100%;\\n  padding: 0px;\\n  border: none;\\n  outline: none;\\n  width: 46px;\\n  height: 46px;\\n  /* filter: invert(1); */\\n  margin: 1px;\\n  border: 2px solid #00FFFF00;\\n}\\n\\n.button-item.pen {\\n  background: gray url(\" + ___CSS_LOADER_URL___0___ + \") -182px -92px;\\n}\\n\\n.button-item.mirror-pen {\\n  background: gray url(\" + ___CSS_LOADER_URL___0___ + \") 0px -136px;\\n}\\n\\n.button-item.paint-backet {\\n  background: gray url(\" + ___CSS_LOADER_URL___0___ + \") -228px -92px;\\n}\\n\\n.button-item.color-swap {\\n  background: gray url(\" + ___CSS_LOADER_URL___0___ + \") -228px -138px;\\n}\\n\\n.button-item.eraser {\\n  background: gray url(\" + ___CSS_LOADER_URL___0___ + \") -46px -228px;\\n}\\n\\n.button-item.stroke {\\n  background: gray url(\" + ___CSS_LOADER_URL___0___ + \") -46px -136px;\\n}\\n\\n.button-item.rectangle-tool {\\n  background: gray url(\" + ___CSS_LOADER_URL___0___ + \") -182px 0px;\\n}\\n\\n.button-item.circle-tool {\\n  background: gray url(\" + ___CSS_LOADER_URL___0___ + \") -228px -46px;\\n}\\n\\n.button-item.move-tool {\\n  background: gray url(\" + ___CSS_LOADER_URL___0___ + \") -184px -228px;\\n}\\n\\n.button-item.shape-section {\\n  background: gray url(\" + ___CSS_LOADER_URL___0___ + \") -92px -136px;\\n}\\n\\n.button-item.shape-tool {\\n  background: gray url(\" + ___CSS_LOADER_URL___0___ + \") -182px -46px;\\n}\\n\\n.button-item.lasso-tool {\\n  background: gray url(\" + ___CSS_LOADER_URL___0___ + \") -92px -228px;\\n}\\n\\n.button-item.lighten-tool {\\n  background: gray url(\" + ___CSS_LOADER_URL___0___ + \") -138px -228px;\\n}\\n\\n.button-item.dithering-tool {\\n  background: gray url(\" + ___CSS_LOADER_URL___0___ + \") 0px -228px;\\n}\\n\\n.button-item.color-picker {\\n  background: gray url(\" + ___CSS_LOADER_URL___0___ + \") -274px 0px;\\n}\\n\\n.button-item.active {\\n  border: 2px solid #ff00ff;\\n  outline: none;\\n}\\n\\n.button-item:not(.color-input):not(.disabled):hover {\\n  background-color: #afacac;\\n  filter: invert(0.2);\\n}\\n\\n.button-item.disabled {\\n  border: 1px solid #999999;\\n  background-color: #cccccc;\\n  color: #666666;\\n}\\n\\n.container-color-input {\\n  position: relative;\\n  margin-top: 10px;\\n  margin-left: 2px;\\n}\\n\\n.color-input, .color-input.active {\\n  border: 3px solid gray;\\n  filter: none;\\n}\\n\\n.color-input:first-of-type {\\n  position: relative;\\n  top: 23px;\\n  right: -23px;\\n  background-image: url(\" + ___CSS_LOADER_URL___1___ + \");\\n  background-color: #00FFFF00;\\n}\\n\\n.transparent {\\n  background-image: url(\" + ___CSS_LOADER_URL___1___ + \");\\n}\\n\\n.color-input:nth-of-type(2) {\\n  position: relative;\\n  top: -48px;\\n  background-color: #000000;\\n}\\n\\n.color-input:hover {\\n  border: 3px solid #a9a9a9;\\n}\\n\\n.swap-color {\\n  position: relative;\\n  top: -28px;\\n  left: -47px;\\n  width: 18px;\\n  height: 18px;\\n  background: url(\" + ___CSS_LOADER_URL___0___ + \") -274px -222px;\\n  /* filter: invert(1); */\\n  border: none;\\n  padding: 0;\\n}\\n\\n.swap-color:hover {\\n  filter: invert(0.5);\\n}\\n\\n.container-canvas-main {\\n  grid-area: canvas;\\n  display: flex;\\n  width: 70vh;\\n  height: 70vh;\\n  margin: 20px;\\n  justify-content: center;\\n  align-items: center;\\n  padding: 0;\\n}\\n\\n.canvas-main {\\n  position: relative;\\n  box-sizing: border-box;\\n  background-image: url(\" + ___CSS_LOADER_URL___1___ + \");\\n}\\n\\n[draggable] {\\n  user-select: none;\\n}\\n\\n.container-frames {\\n  grid-area: frame;\\n  width: 130px;\\n  display: flex;\\n  flex-direction: column;\\n  margin: 0 20px;\\n  overflow-y: scroll;\\n  user-select: none;\\n}\\n\\n.frame-item {\\n  box-sizing: border-box;\\n  width: 100px;\\n  height: 100px;\\n  margin: 5px;\\n  border: 2px solid gray;\\n  background: url(\" + ___CSS_LOADER_URL___1___ + \");\\n  border-radius: 3px;\\n  /*flex-shrink: 0;*/\\n}\\n\\ncanvas.canvas-frame {\\n  position: absolute;\\n}\\n\\n.frame-item.active {\\n  border: 2px solid magenta;\\n  border-radius: 3px;\\n}\\n\\n[draggable] {\\n  -moz-user-select: none;\\n  -khtml-user-select: none;\\n  -webkit-user-select: none;\\n  user-select: none;\\n  /* Required to make elements draggable in old WebKit */\\n  -khtml-user-drag: element;\\n  -webkit-user-drag: element;\\n}\\n\\n.frame-item.over {\\n  border: 2px dashed #000;\\n}\\n\\n.btn-delete {\\n  position: relative;\\n  left: 70px;\\n  border: none;\\n  width: 25px;\\n  height: 25px;\\n  background: gray url(\" + ___CSS_LOADER_URL___0___ + \") 363px 165px;\\n}\\n\\n.btn-copy {\\n  position: relative;\\n  left: 39px;\\n  top: 70px;\\n  border: none;\\n  width: 25px;\\n  height: 25px;\\n  background: gray url(\" + ___CSS_LOADER_URL___0___ + \") 363px 195px;\\n}\\n\\n.btn-move {\\n  position: relative;\\n  left: -56px;\\n  top: 70px;\\n  border: none;\\n  width: 25px;\\n  height: 25px;\\n  background: gray url(\" + ___CSS_LOADER_URL___0___ + \") -276px -48px;\\n}\\n\\n.btn-preview-size {\\n  position: relative;\\n  left: 145px;\\n  top: 35px;\\n  border: 2px solid black;\\n  width: 20px;\\n  height: 20px;\\n  background: gray url(\" + ___CSS_LOADER_URL___0___ + \") -275px -205px;\\n}\\n\\n.btn-preview-popup {\\n  position: relative;\\n  left: 150px;\\n  top: 35px;\\n  border: 2px solid black;\\n  width: 20px;\\n  height: 20px;\\n  background: gray url(\" + ___CSS_LOADER_URL___0___ + \") -295px -184px;\\n}\\n\\n.hidden {\\n  visibility: hidden;\\n}\\n\\n.frame-item:not(.active):hover {\\n  border: 2px solid #e0dada;\\n  border-radius: 3px;\\n}\\n\\n.add-item {\\n  position: relative;\\n  width: 100px;\\n  height: 50px;\\n  margin: 5px;\\n  padding: 5px 5px 5px 25px;\\n  border: 2px solid gray;\\n  border-radius: 3px;\\n  cursor: pointer;\\n}\\n\\n.btn-add-item {\\n  border: none;\\n  background: none;\\n  font-weight: 600;\\n  padding: 0;\\n  font-size: 13px;\\n}\\n\\n.add-item:hover {\\n  border: 2px solid magenta;\\n  border-radius: 3px;\\n}\\n\\n.add-item::before {\\n  content: \\\"\\\";\\n  position: absolute;\\n  top: 10px;\\n  left: -5px;\\n  width: 25px;\\n  height: 25px;\\n  background: url(\" + ___CSS_LOADER_URL___0___ + \") 370px 115px;\\n  /* filter: invert(1); */\\n}\\n\\n.container-preview {\\n  grid-area: preview;\\n  margin: 20px;\\n  width: 210px;\\n}\\n\\n.canvas-preview {\\n  margin: 5px;\\n  background: url(\" + ___CSS_LOADER_URL___1___ + \");\\n}\\n\\n.continer-preview-fps {\\n  margin: 10px;\\n}\\n\\n.continer-preview-fps input {\\n  margin-left: 10px;\\n  width: 90px;\\n}\\n\\n.continer-preview-fps span {\\n  display: inline-block;\\n  margin-left: 30px;\\n  width: 20px;\\n}\\n\\n.container-layers {\\n  width: 200px;\\n  min-height: 85px;\\n  display: flex;\\n  flex-direction: column;\\n  margin: 5px;\\n  border: 2px solid #a9a9a9;\\n  padding: 5px;\\n}\\n\\n.container-transform {\\n  width: 200px;\\n  min-height: 85px;\\n  display: flex;\\n  flex-direction: column;\\n  margin: 5px;\\n  border: 2px solid #a9a9a9;\\n}\\n\\n.container-transform h2 {\\n  line-height: 2;\\n}\\n\\n.flip-tool {\\n  background: gray url(\" + ___CSS_LOADER_URL___0___ + \") 0px -90px;\\n  margin: 0;\\n}\\n\\n.rotate-tool {\\n  background: gray url(\" + ___CSS_LOADER_URL___0___ + \") -90px 0px;\\n  margin: 0;\\n}\\n\\n.clone-tool {\\n  background: gray url(\" + ___CSS_LOADER_URL___0___ + \") -136px 0px;\\n  margin: 0;\\n}\\n\\n.align-tool {\\n  background: gray url(\" + ___CSS_LOADER_URL___0___ + \") -136px -46px;\\n  margin: 0;\\n}\\n\\n.container-screen-size {\\n  width: 200px;\\n  min-height: 85px;\\n  display: flex;\\n  flex-direction: column;\\n  margin: 5px;\\n  border: 2px solid #a9a9a9;\\n}\\n\\n.container-screen-size h2 {\\n  line-height: 2;\\n}\\n\\n.screen-size {\\n  font-size: 9px;\\n  font-weight: bold;\\n  background: gray;\\n  margin: 3px;\\n}\\n\\n.container-color {\\n  width: 200px;\\n  overflow-y: auto;\\n  max-height: 200px;\\n  min-height: 85px;\\n  display: flex;\\n  flex-direction: column;\\n  margin: 5px;\\n  border: 2px solid #a9a9a9;\\n  padding: 5px;\\n  align-items: center;\\n}\\n\\n.container-color h2 {\\n  line-height: 2;\\n}\\n\\n.container-btn-palettes {\\n  width: 100%;\\n}\\n\\n.button-color {\\n  display: inline-block;\\n  box-sizing: border-box;\\n  width: 100%;\\n  padding: 0px;\\n  border: none;\\n  outline: none;\\n  width: 31px;\\n  height: 31px;\\n  margin: 0;\\n  filter: none;\\n}\\n\\n.button-color:hover {\\n  filter: none;\\n}\\n\\n.container-tools {\\n  grid-area: tool;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n  width: 60px;\\n}\\n\\n.export-tool {\\n  background: gray url(\" + ___CSS_LOADER_URL___0___ + \") -228px 0px;\\n}\\n\\n.import-tool {\\n  background: gray url(\" + ___CSS_LOADER_URL___0___ + \") -92px -182px;\\n}\\n\\n.container-information {\\n  margin-top: 70px;\\n}\\n\\n::-webkit-scrollbar {\\n  width: 12px;\\n}\\n\\n::-webkit-scrollbar-track {\\n  box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\\n  -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\\n  /*border-radius: 10px;*/\\n}\\n\\n::-webkit-scrollbar-thumb {\\n  border-radius: 10px;\\n  box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.5);\\n  -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.5);\\n}\\n\", \"\"]);\n\n","module.exports = __webpack_public_path__ + \"76806adfc3417169fc8ad9da988554ba.png\";","module.exports = __webpack_public_path__ + \"fd2dfa4eb1e799b256a292b440ef6c5e.png\";"],"sourceRoot":""}